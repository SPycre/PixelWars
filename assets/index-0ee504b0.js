(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ps={},Vm={get exports(){return ps},set exports(t){ps=t}},to={},At={},$m={get exports(){return At},set exports(t){At=t}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),bm=Symbol.for("react.portal"),Gm=Symbol.for("react.fragment"),Qm=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Km=Symbol.for("react.provider"),qm=Symbol.for("react.context"),Xm=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),Zm=Symbol.for("react.memo"),eg=Symbol.for("react.lazy"),nc=Symbol.iterator;function tg(t){return t===null||typeof t!="object"?null:(t=nc&&t[nc]||t["@@iterator"],typeof t=="function"?t:null)}var tf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nf=Object.assign,rf={};function cr(t,e,n){this.props=t,this.context=e,this.refs=rf,this.updater=n||tf}cr.prototype.isReactComponent={};cr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sf(){}sf.prototype=cr.prototype;function Ru(t,e,n){this.props=t,this.context=e,this.refs=rf,this.updater=n||tf}var Pu=Ru.prototype=new sf;Pu.constructor=Ru;nf(Pu,cr.prototype);Pu.isPureReactComponent=!0;var rc=Array.isArray,of=Object.prototype.hasOwnProperty,Du={current:null},lf={key:!0,ref:!0,__self:!0,__source:!0};function uf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)of.call(e,r)&&!lf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Si,type:t,key:s,ref:o,props:i,_owner:Du.current}}function ng(t,e){return{$$typeof:Si,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ou(t){return typeof t=="object"&&t!==null&&t.$$typeof===Si}function rg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ic=/\/+/g;function Oo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rg(""+t.key):e.toString(36)}function ns(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Si:case bm:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Oo(o,0):r,rc(i)?(n="",t!=null&&(n=t.replace(ic,"$&/")+"/"),ns(i,e,n,"",function(a){return a})):i!=null&&(Ou(i)&&(i=ng(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ic,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rc(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Oo(s,l);o+=ns(s,e,n,u,i)}else if(u=tg(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Oo(s,l++),o+=ns(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zi(t,e,n){if(t==null)return t;var r=[],i=0;return ns(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ig(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},rs={transition:null},sg={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:rs,ReactCurrentOwner:Du};L.Children={map:zi,forEach:function(t,e,n){zi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zi(t,function(){e++}),e},toArray:function(t){return zi(t,function(e){return e})||[]},only:function(t){if(!Ou(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=cr;L.Fragment=Gm;L.Profiler=Ym;L.PureComponent=Ru;L.StrictMode=Qm;L.Suspense=Jm;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sg;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Du.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)of.call(e,u)&&!lf.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:Si,type:t.type,key:i,ref:s,props:r,_owner:o}};L.createContext=function(t){return t={$$typeof:qm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Km,_context:t},t.Consumer=t};L.createElement=uf;L.createFactory=function(t){var e=uf.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Xm,render:t}};L.isValidElement=Ou;L.lazy=function(t){return{$$typeof:eg,_payload:{_status:-1,_result:t},_init:ig}};L.memo=function(t,e){return{$$typeof:Zm,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=rs.transition;rs.transition={};try{t()}finally{rs.transition=e}};L.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};L.useCallback=function(t,e){return Ie.current.useCallback(t,e)};L.useContext=function(t){return Ie.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};L.useEffect=function(t,e){return Ie.current.useEffect(t,e)};L.useId=function(){return Ie.current.useId()};L.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return Ie.current.useMemo(t,e)};L.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};L.useRef=function(t){return Ie.current.useRef(t)};L.useState=function(t){return Ie.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return Ie.current.useTransition()};L.version="18.2.0";(function(t){t.exports=L})($m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=At,lg=Symbol.for("react.element"),ug=Symbol.for("react.fragment"),ag=Object.prototype.hasOwnProperty,cg=og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dg={key:!0,ref:!0,__self:!0,__source:!0};function af(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ag.call(e,r)&&!dg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lg,type:t,key:s,ref:o,props:i,_owner:cg.current}}to.Fragment=ug;to.jsx=af;to.jsxs=af;(function(t){t.exports=to})(Vm);const Y=ps.jsx,Nn=ps.jsxs;var ml={},gl={},fg={get exports(){return gl},set exports(t){gl=t}},Be={},_l={},hg={get exports(){return _l},set exports(t){_l=t}},cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,P){var D=k.length;k.push(P);e:for(;0<D;){var te=D-1>>>1,ue=k[te];if(0<i(ue,P))k[te]=P,k[D]=ue,D=te;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var P=k[0],D=k.pop();if(D!==P){k[0]=D;e:for(var te=0,ue=k.length,Li=ue>>>1;te<Li;){var en=2*(te+1)-1,Do=k[en],tn=en+1,Fi=k[tn];if(0>i(Do,D))tn<ue&&0>i(Fi,Do)?(k[te]=Fi,k[tn]=D,te=tn):(k[te]=Do,k[en]=D,te=en);else if(tn<ue&&0>i(Fi,D))k[te]=Fi,k[tn]=D,te=tn;else break e}}return P}function i(k,P){var D=k.sortIndex-P.sortIndex;return D!==0?D:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],a=[],f=1,c=null,d=3,g=!1,_=!1,v=!1,R=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var P=n(a);P!==null;){if(P.callback===null)r(a);else if(P.startTime<=k)r(a),P.sortIndex=P.expirationTime,e(u,P);else break;P=n(a)}}function y(k){if(v=!1,m(k),!_)if(n(u)!==null)_=!0,Ro(S);else{var P=n(a);P!==null&&Po(y,P.startTime-k)}}function S(k,P){_=!1,v&&(v=!1,p(N),N=-1),g=!0;var D=d;try{for(m(P),c=n(u);c!==null&&(!(c.expirationTime>P)||k&&!Qe());){var te=c.callback;if(typeof te=="function"){c.callback=null,d=c.priorityLevel;var ue=te(c.expirationTime<=P);P=t.unstable_now(),typeof ue=="function"?c.callback=ue:c===n(u)&&r(u),m(P)}else r(u);c=n(u)}if(c!==null)var Li=!0;else{var en=n(a);en!==null&&Po(y,en.startTime-P),Li=!1}return Li}finally{c=null,d=D,g=!1}}var I=!1,T=null,N=-1,ee=5,F=-1;function Qe(){return!(t.unstable_now()-F<ee)}function vr(){if(T!==null){var k=t.unstable_now();F=k;var P=!0;try{P=T(!0,k)}finally{P?yr():(I=!1,T=null)}}else I=!1}var yr;if(typeof h=="function")yr=function(){h(vr)};else if(typeof MessageChannel<"u"){var tc=new MessageChannel,jm=tc.port2;tc.port1.onmessage=vr,yr=function(){jm.postMessage(null)}}else yr=function(){R(vr,0)};function Ro(k){T=k,I||(I=!0,yr())}function Po(k,P){N=R(function(){k(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Ro(S))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var D=d;d=P;try{return k()}finally{d=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=d;d=k;try{return P()}finally{d=D}},t.unstable_scheduleCallback=function(k,P,D){var te=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?te+D:te):D=te,k){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=D+ue,k={id:f++,callback:P,priorityLevel:k,startTime:D,expirationTime:ue,sortIndex:-1},D>te?(k.sortIndex=D,e(a,k),n(u)===null&&k===n(a)&&(v?(p(N),N=-1):v=!0,Po(y,D-te))):(k.sortIndex=ue,e(u,k),_||g||(_=!0,Ro(S))),k},t.unstable_shouldYield=Qe,t.unstable_wrapCallback=function(k){var P=d;return function(){var D=d;d=P;try{return k.apply(this,arguments)}finally{d=D}}}})(cf);(function(t){t.exports=cf})(hg);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=At,Ue=_l;function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ff=new Set,Kr={};function kn(t,e){Zn(t,e),Zn(t+"Capture",e)}function Zn(t,e){for(Kr[t]=e,t=0;t<e.length;t++)ff.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=Object.prototype.hasOwnProperty,pg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sc={},oc={};function mg(t){return vl.call(oc,t)?!0:vl.call(sc,t)?!1:pg.test(t)?oc[t]=!0:(sc[t]=!0,!1)}function gg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _g(t,e,n,r){if(e===null||typeof e>"u"||gg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var Au=/[\-:]([a-z])/g;function Mu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Au,Mu);ge[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Au,Mu);ge[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Au,Mu);ge[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lu(t,e,n,r){var i=ge.hasOwnProperty(e)?ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_g(e,n,i,r)&&(n=null),r||i===null?mg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var St=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ui=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),Fu=Symbol.for("react.strict_mode"),yl=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),pf=Symbol.for("react.context"),zu=Symbol.for("react.forward_ref"),wl=Symbol.for("react.suspense"),El=Symbol.for("react.suspense_list"),Uu=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),mf=Symbol.for("react.offscreen"),lc=Symbol.iterator;function wr(t){return t===null||typeof t!="object"?null:(t=lc&&t[lc]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,Ao;function Or(t){if(Ao===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ao=e&&e[1]||""}return`
`+Ao+t}var Mo=!1;function Lo(t,e){if(!t||Mo)return"";Mo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Mo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Or(t):""}function vg(t){switch(t.tag){case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 2:case 15:return t=Lo(t.type,!1),t;case 11:return t=Lo(t.type.render,!1),t;case 1:return t=Lo(t.type,!0),t;default:return""}}function Cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dn:return"Fragment";case Pn:return"Portal";case yl:return"Profiler";case Fu:return"StrictMode";case wl:return"Suspense";case El:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pf:return(t.displayName||"Context")+".Consumer";case hf:return(t._context.displayName||"Context")+".Provider";case zu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uu:return e=t.displayName||null,e!==null?e:Cl(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return Cl(t(e))}catch{}}return null}function yg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(e);case 8:return e===Fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wg(t){var e=gf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bi(t){t._valueTracker||(t._valueTracker=wg(t))}function _f(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sl(t,e){var n=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vf(t,e){e=e.checked,e!=null&&Lu(t,"checked",e,!1)}function kl(t,e){vf(t,e);var n=Gt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Il(t,e.type,n):e.hasOwnProperty("defaultValue")&&Il(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ac(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Il(t,e,n){(e!=="number"||ms(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ar=Array.isArray;function Vn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(w(92));if(Ar(n)){if(1<n.length)throw Error(w(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gt(n)}}function yf(t,e){var n=Gt(e.value),r=Gt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wi,Ef=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eg=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(t){Eg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fr[e]=Fr[t]})});function Cf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fr.hasOwnProperty(t)&&Fr[t]?(""+e).trim():e+"px"}function Sf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Cg=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xl(t,e){if(e){if(Cg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function Rl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function Bu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dl=null,$n=null,bn=null;function fc(t){if(t=Ti(t)){if(typeof Dl!="function")throw Error(w(280));var e=t.stateNode;e&&(e=oo(e),Dl(t.stateNode,t.type,e))}}function kf(t){$n?bn?bn.push(t):bn=[t]:$n=t}function If(){if($n){var t=$n,e=bn;if(bn=$n=null,fc(t),e)for(t=0;t<e.length;t++)fc(e[t])}}function Tf(t,e){return t(e)}function Nf(){}var Fo=!1;function xf(t,e,n){if(Fo)return t(e,n);Fo=!0;try{return Tf(t,e,n)}finally{Fo=!1,($n!==null||bn!==null)&&(Nf(),If())}}function Xr(t,e){var n=t.stateNode;if(n===null)return null;var r=oo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var Ol=!1;if(vt)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Ol=!1}function Sg(t,e,n,r,i,s,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{e.apply(n,a)}catch(f){this.onError(f)}}var zr=!1,gs=null,_s=!1,Al=null,kg={onError:function(t){zr=!0,gs=t}};function Ig(t,e,n,r,i,s,o,l,u){zr=!1,gs=null,Sg.apply(kg,arguments)}function Tg(t,e,n,r,i,s,o,l,u){if(Ig.apply(this,arguments),zr){if(zr){var a=gs;zr=!1,gs=null}else throw Error(w(198));_s||(_s=!0,Al=a)}}function In(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hc(t){if(In(t)!==t)throw Error(w(188))}function Ng(t){var e=t.alternate;if(!e){if(e=In(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hc(i),t;if(s===r)return hc(i),e;s=s.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function Pf(t){return t=Ng(t),t!==null?Df(t):null}function Df(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Df(t);if(e!==null)return e;t=t.sibling}return null}var Of=Ue.unstable_scheduleCallback,pc=Ue.unstable_cancelCallback,xg=Ue.unstable_shouldYield,Rg=Ue.unstable_requestPaint,ne=Ue.unstable_now,Pg=Ue.unstable_getCurrentPriorityLevel,Wu=Ue.unstable_ImmediatePriority,Af=Ue.unstable_UserBlockingPriority,vs=Ue.unstable_NormalPriority,Dg=Ue.unstable_LowPriority,Mf=Ue.unstable_IdlePriority,no=null,ut=null;function Og(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(no,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Lg,Ag=Math.log,Mg=Math.LN2;function Lg(t){return t>>>=0,t===0?32:31-(Ag(t)/Mg|0)|0}var Hi=64,ji=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ys(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Mr(l):(s&=o,s!==0&&(r=Mr(s)))}else o=n&~i,o!==0?r=Mr(o):s!==0&&(r=Mr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tt(e),i=1<<n,r|=t[n],e&=~i;return r}function Fg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tt(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=Fg(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Ml(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lf(){var t=Hi;return Hi<<=1,!(Hi&4194240)&&(Hi=64),t}function zo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ki(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=n}function Ug(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Hu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var B=0;function Ff(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zf,ju,Uf,Bf,Wf,Ll=!1,Vi=[],Mt=null,Lt=null,Ft=null,Jr=new Map,Zr=new Map,Rt=[],Bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mc(t,e){switch(t){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(e.pointerId)}}function Cr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ti(e),e!==null&&ju(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Wg(t,e,n,r,i){switch(e){case"focusin":return Mt=Cr(Mt,t,e,n,r,i),!0;case"dragenter":return Lt=Cr(Lt,t,e,n,r,i),!0;case"mouseover":return Ft=Cr(Ft,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jr.set(s,Cr(Jr.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zr.set(s,Cr(Zr.get(s)||null,t,e,n,r,i)),!0}return!1}function Hf(t){var e=ln(t.target);if(e!==null){var n=In(e);if(n!==null){if(e=n.tag,e===13){if(e=Rf(n),e!==null){t.blockedOn=e,Wf(t.priority,function(){Uf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function is(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pl=r,n.target.dispatchEvent(r),Pl=null}else return e=Ti(n),e!==null&&ju(e),t.blockedOn=n,!1;e.shift()}return!0}function gc(t,e,n){is(t)&&n.delete(e)}function Hg(){Ll=!1,Mt!==null&&is(Mt)&&(Mt=null),Lt!==null&&is(Lt)&&(Lt=null),Ft!==null&&is(Ft)&&(Ft=null),Jr.forEach(gc),Zr.forEach(gc)}function Sr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ll||(Ll=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Hg)))}function ei(t){function e(i){return Sr(i,t)}if(0<Vi.length){Sr(Vi[0],t);for(var n=1;n<Vi.length;n++){var r=Vi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mt!==null&&Sr(Mt,t),Lt!==null&&Sr(Lt,t),Ft!==null&&Sr(Ft,t),Jr.forEach(e),Zr.forEach(e),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)Hf(n),n.blockedOn===null&&Rt.shift()}var Gn=St.ReactCurrentBatchConfig,ws=!0;function jg(t,e,n,r){var i=B,s=Gn.transition;Gn.transition=null;try{B=1,Vu(t,e,n,r)}finally{B=i,Gn.transition=s}}function Vg(t,e,n,r){var i=B,s=Gn.transition;Gn.transition=null;try{B=4,Vu(t,e,n,r)}finally{B=i,Gn.transition=s}}function Vu(t,e,n,r){if(ws){var i=Fl(t,e,n,r);if(i===null)Qo(t,e,r,Es,n),mc(t,r);else if(Wg(i,t,e,n,r))r.stopPropagation();else if(mc(t,r),e&4&&-1<Bg.indexOf(t)){for(;i!==null;){var s=Ti(i);if(s!==null&&zf(s),s=Fl(t,e,n,r),s===null&&Qo(t,e,r,Es,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qo(t,e,r,null,n)}}var Es=null;function Fl(t,e,n,r){if(Es=null,t=Bu(r),t=ln(t),t!==null)if(e=In(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Es=t,null}function jf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pg()){case Wu:return 1;case Af:return 4;case vs:case Dg:return 16;case Mf:return 536870912;default:return 16}default:return 16}}var Dt=null,$u=null,ss=null;function Vf(){if(ss)return ss;var t,e=$u,n=e.length,r,i="value"in Dt?Dt.value:Dt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ss=i.slice(t,1<r?1-r:void 0)}function os(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function _c(){return!1}function We(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$i:_c,this.isPropagationStopped=_c,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),e}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=We(dr),Ii=X({},dr,{view:0,detail:0}),$g=We(Ii),Uo,Bo,kr,ro=X({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kr&&(kr&&t.type==="mousemove"?(Uo=t.screenX-kr.screenX,Bo=t.screenY-kr.screenY):Bo=Uo=0,kr=t),Uo)},movementY:function(t){return"movementY"in t?t.movementY:Bo}}),vc=We(ro),bg=X({},ro,{dataTransfer:0}),Gg=We(bg),Qg=X({},Ii,{relatedTarget:0}),Wo=We(Qg),Yg=X({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kg=We(Yg),qg=X({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xg=We(qg),Jg=X({},dr,{data:0}),yc=We(Jg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t_[t])?!!e[t]:!1}function Gu(){return n_}var r_=X({},Ii,{key:function(t){if(t.key){var e=Zg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i_=We(r_),s_=X({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=We(s_),o_=X({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),l_=We(o_),u_=X({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),a_=We(u_),c_=X({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d_=We(c_),f_=[9,13,27,32],Qu=vt&&"CompositionEvent"in window,Ur=null;vt&&"documentMode"in document&&(Ur=document.documentMode);var h_=vt&&"TextEvent"in window&&!Ur,$f=vt&&(!Qu||Ur&&8<Ur&&11>=Ur),Ec=String.fromCharCode(32),Cc=!1;function bf(t,e){switch(t){case"keyup":return f_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var On=!1;function p_(t,e){switch(t){case"compositionend":return Gf(e);case"keypress":return e.which!==32?null:(Cc=!0,Ec);case"textInput":return t=e.data,t===Ec&&Cc?null:t;default:return null}}function m_(t,e){if(On)return t==="compositionend"||!Qu&&bf(t,e)?(t=Vf(),ss=$u=Dt=null,On=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $f&&e.locale!=="ko"?null:e.data;default:return null}}var g_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g_[t.type]:e==="textarea"}function Qf(t,e,n,r){kf(r),e=Cs(e,"onChange"),0<e.length&&(n=new bu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Br=null,ti=null;function __(t){ih(t,0)}function io(t){var e=Ln(t);if(_f(e))return t}function v_(t,e){if(t==="change")return e}var Yf=!1;if(vt){var Ho;if(vt){var jo="oninput"in document;if(!jo){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),jo=typeof kc.oninput=="function"}Ho=jo}else Ho=!1;Yf=Ho&&(!document.documentMode||9<document.documentMode)}function Ic(){Br&&(Br.detachEvent("onpropertychange",Kf),ti=Br=null)}function Kf(t){if(t.propertyName==="value"&&io(ti)){var e=[];Qf(e,ti,t,Bu(t)),xf(__,e)}}function y_(t,e,n){t==="focusin"?(Ic(),Br=e,ti=n,Br.attachEvent("onpropertychange",Kf)):t==="focusout"&&Ic()}function w_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io(ti)}function E_(t,e){if(t==="click")return io(e)}function C_(t,e){if(t==="input"||t==="change")return io(e)}function S_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:S_;function ni(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vl.call(e,i)||!it(t[i],e[i]))return!1}return!0}function Tc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nc(t,e){var n=Tc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tc(n)}}function qf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xf(){for(var t=window,e=ms();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ms(t.document)}return e}function Yu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k_(t){var e=Xf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qf(n.ownerDocument.documentElement,n)){if(r!==null&&Yu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Nc(n,s);var o=Nc(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I_=vt&&"documentMode"in document&&11>=document.documentMode,An=null,zl=null,Wr=null,Ul=!1;function xc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ul||An==null||An!==ms(r)||(r=An,"selectionStart"in r&&Yu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&ni(Wr,r)||(Wr=r,r=Cs(zl,"onSelect"),0<r.length&&(e=new bu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=An)))}function bi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mn={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Vo={},Jf={};vt&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function so(t){if(Vo[t])return Vo[t];if(!Mn[t])return t;var e=Mn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jf)return Vo[t]=e[n];return t}var Zf=so("animationend"),eh=so("animationiteration"),th=so("animationstart"),nh=so("transitionend"),rh=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(t,e){rh.set(t,e),kn(e,[t])}for(var $o=0;$o<Rc.length;$o++){var bo=Rc[$o],T_=bo.toLowerCase(),N_=bo[0].toUpperCase()+bo.slice(1);Xt(T_,"on"+N_)}Xt(Zf,"onAnimationEnd");Xt(eh,"onAnimationIteration");Xt(th,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(nh,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Pc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tg(r,e,void 0,t),t.currentTarget=null}function ih(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Pc(i,l,a),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Pc(i,l,a),s=u}}}if(_s)throw t=Al,_s=!1,Al=null,t}function $(t,e){var n=e[Vl];n===void 0&&(n=e[Vl]=new Set);var r=t+"__bubble";n.has(r)||(sh(e,t,2,!1),n.add(r))}function Go(t,e,n){var r=0;e&&(r|=4),sh(n,t,r,e)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function ri(t){if(!t[Gi]){t[Gi]=!0,ff.forEach(function(n){n!=="selectionchange"&&(x_.has(n)||Go(n,!1,t),Go(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gi]||(e[Gi]=!0,Go("selectionchange",!1,e))}}function sh(t,e,n,r){switch(jf(e)){case 1:var i=jg;break;case 4:i=Vg;break;default:i=Vu}n=i.bind(null,e,n,t),i=void 0,!Ol||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qo(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ln(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}xf(function(){var a=s,f=Bu(n),c=[];e:{var d=rh.get(t);if(d!==void 0){var g=bu,_=t;switch(t){case"keypress":if(os(n)===0)break e;case"keydown":case"keyup":g=i_;break;case"focusin":_="focus",g=Wo;break;case"focusout":_="blur",g=Wo;break;case"beforeblur":case"afterblur":g=Wo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=l_;break;case Zf:case eh:case th:g=Kg;break;case nh:g=a_;break;case"scroll":g=$g;break;case"wheel":g=d_;break;case"copy":case"cut":case"paste":g=Xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wc}var v=(e&4)!==0,R=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var h=a,m;h!==null;){m=h;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=Xr(h,p),y!=null&&v.push(ii(h,y,m)))),R)break;h=h.return}0<v.length&&(d=new g(d,_,null,n,f),c.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==Pl&&(_=n.relatedTarget||n.fromElement)&&(ln(_)||_[yt]))break e;if((g||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=a,_=_?ln(_):null,_!==null&&(R=In(_),_!==R||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=a),g!==_)){if(v=vc,y="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=wc,y="onPointerLeave",p="onPointerEnter",h="pointer"),R=g==null?d:Ln(g),m=_==null?d:Ln(_),d=new v(y,h+"leave",g,n,f),d.target=R,d.relatedTarget=m,y=null,ln(f)===a&&(v=new v(p,h+"enter",_,n,f),v.target=m,v.relatedTarget=R,y=v),R=y,g&&_)t:{for(v=g,p=_,h=0,m=v;m;m=xn(m))h++;for(m=0,y=p;y;y=xn(y))m++;for(;0<h-m;)v=xn(v),h--;for(;0<m-h;)p=xn(p),m--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=xn(v),p=xn(p)}v=null}else v=null;g!==null&&Dc(c,d,g,v,!1),_!==null&&R!==null&&Dc(c,R,_,v,!0)}}e:{if(d=a?Ln(a):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var S=v_;else if(Sc(d))if(Yf)S=C_;else{S=w_;var I=y_}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=E_);if(S&&(S=S(t,a))){Qf(c,S,n,f);break e}I&&I(t,d,a),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&Il(d,"number",d.value)}switch(I=a?Ln(a):window,t){case"focusin":(Sc(I)||I.contentEditable==="true")&&(An=I,zl=a,Wr=null);break;case"focusout":Wr=zl=An=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,xc(c,n,f);break;case"selectionchange":if(I_)break;case"keydown":case"keyup":xc(c,n,f)}var T;if(Qu)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else On?bf(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&($f&&n.locale!=="ko"&&(On||N!=="onCompositionStart"?N==="onCompositionEnd"&&On&&(T=Vf()):(Dt=f,$u="value"in Dt?Dt.value:Dt.textContent,On=!0)),I=Cs(a,N),0<I.length&&(N=new yc(N,t,null,n,f),c.push({event:N,listeners:I}),T?N.data=T:(T=Gf(n),T!==null&&(N.data=T)))),(T=h_?p_(t,n):m_(t,n))&&(a=Cs(a,"onBeforeInput"),0<a.length&&(f=new yc("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:a}),f.data=T))}ih(c,e)})}function ii(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xr(t,n),s!=null&&r.unshift(ii(t,s,i)),s=Xr(t,e),s!=null&&r.push(ii(t,s,i))),t=t.return}return r}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,i?(u=Xr(n,s),u!=null&&o.unshift(ii(n,u,l))):i||(u=Xr(n,s),u!=null&&o.push(ii(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var R_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function Oc(t){return(typeof t=="string"?t:""+t).replace(R_,`
`).replace(P_,"")}function Qi(t,e,n){if(e=Oc(e),Oc(t)!==e&&n)throw Error(w(425))}function Ss(){}var Bl=null,Wl=null;function Hl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jl=typeof setTimeout=="function"?setTimeout:void 0,D_=typeof clearTimeout=="function"?clearTimeout:void 0,Ac=typeof Promise=="function"?Promise:void 0,O_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ac<"u"?function(t){return Ac.resolve(null).then(t).catch(A_)}:jl;function A_(t){setTimeout(function(){throw t})}function Yo(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ei(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ei(e)}function zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fr=Math.random().toString(36).slice(2),lt="__reactFiber$"+fr,si="__reactProps$"+fr,yt="__reactContainer$"+fr,Vl="__reactEvents$"+fr,M_="__reactListeners$"+fr,L_="__reactHandles$"+fr;function ln(t){var e=t[lt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yt]||n[lt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mc(t);t!==null;){if(n=t[lt])return n;t=Mc(t)}return e}t=n,n=t.parentNode}return null}function Ti(t){return t=t[lt]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function oo(t){return t[si]||null}var $l=[],Fn=-1;function Jt(t){return{current:t}}function G(t){0>Fn||(t.current=$l[Fn],$l[Fn]=null,Fn--)}function V(t,e){Fn++,$l[Fn]=t.current,t.current=e}var Qt={},Ee=Jt(Qt),Pe=Jt(!1),mn=Qt;function er(t,e){var n=t.type.contextTypes;if(!n)return Qt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function De(t){return t=t.childContextTypes,t!=null}function ks(){G(Pe),G(Ee)}function Lc(t,e,n){if(Ee.current!==Qt)throw Error(w(168));V(Ee,e),V(Pe,n)}function oh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(w(108,yg(t)||"Unknown",i));return X({},n,r)}function Is(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qt,mn=Ee.current,V(Ee,t),V(Pe,Pe.current),!0}function Fc(t,e,n){var r=t.stateNode;if(!r)throw Error(w(169));n?(t=oh(t,e,mn),r.__reactInternalMemoizedMergedChildContext=t,G(Pe),G(Ee),V(Ee,t)):G(Pe),V(Pe,n)}var ft=null,lo=!1,Ko=!1;function lh(t){ft===null?ft=[t]:ft.push(t)}function F_(t){lo=!0,lh(t)}function Zt(){if(!Ko&&ft!==null){Ko=!0;var t=0,e=B;try{var n=ft;for(B=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ft=null,lo=!1}catch(i){throw ft!==null&&(ft=ft.slice(t+1)),Of(Wu,Zt),i}finally{B=e,Ko=!1}}return null}var zn=[],Un=0,Ts=null,Ns=0,He=[],je=0,gn=null,ht=1,pt="";function nn(t,e){zn[Un++]=Ns,zn[Un++]=Ts,Ts=t,Ns=e}function uh(t,e,n){He[je++]=ht,He[je++]=pt,He[je++]=gn,gn=t;var r=ht;t=pt;var i=32-tt(r)-1;r&=~(1<<i),n+=1;var s=32-tt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ht=1<<32-tt(e)+i|n<<i|r,pt=s+t}else ht=1<<s|n<<i|r,pt=t}function Ku(t){t.return!==null&&(nn(t,1),uh(t,1,0))}function qu(t){for(;t===Ts;)Ts=zn[--Un],zn[Un]=null,Ns=zn[--Un],zn[Un]=null;for(;t===gn;)gn=He[--je],He[je]=null,pt=He[--je],He[je]=null,ht=He[--je],He[je]=null}var ze=null,Fe=null,Q=!1,Xe=null;function ah(t,e){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,Fe=zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gn!==null?{id:ht,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ze=t,Fe=null,!0):!1;default:return!1}}function bl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gl(t){if(Q){var e=Fe;if(e){var n=e;if(!zc(t,e)){if(bl(t))throw Error(w(418));e=zt(n.nextSibling);var r=ze;e&&zc(t,e)?ah(r,n):(t.flags=t.flags&-4097|2,Q=!1,ze=t)}}else{if(bl(t))throw Error(w(418));t.flags=t.flags&-4097|2,Q=!1,ze=t}}}function Uc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function Yi(t){if(t!==ze)return!1;if(!Q)return Uc(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hl(t.type,t.memoizedProps)),e&&(e=Fe)){if(bl(t))throw ch(),Error(w(418));for(;e;)ah(t,e),e=zt(e.nextSibling)}if(Uc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=zt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=ze?zt(t.stateNode.nextSibling):null;return!0}function ch(){for(var t=Fe;t;)t=zt(t.nextSibling)}function tr(){Fe=ze=null,Q=!1}function Xu(t){Xe===null?Xe=[t]:Xe.push(t)}var z_=St.ReactCurrentBatchConfig;function Ke(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xs=Jt(null),Rs=null,Bn=null,Ju=null;function Zu(){Ju=Bn=Rs=null}function ea(t){var e=xs.current;G(xs),t._currentValue=e}function Ql(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qn(t,e){Rs=t,Ju=Bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xe=!0),t.firstContext=null)}function be(t){var e=t._currentValue;if(Ju!==t)if(t={context:t,memoizedValue:e,next:null},Bn===null){if(Rs===null)throw Error(w(308));Bn=t,Rs.dependencies={lanes:0,firstContext:t}}else Bn=Bn.next=t;return e}var un=null;function ta(t){un===null?un=[t]:un.push(t)}function dh(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ta(e)):(n.next=i.next,i.next=n),e.interleaved=n,wt(t,r)}function wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xt=!1;function na(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wt(t,n)}return i=r.interleaved,i===null?(e.next=e,ta(r)):(e.next=i.next,i.next=e),r.interleaved=e,wt(t,n)}function ls(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hu(t,n)}}function Bc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ps(t,e,n,r){var i=t.updateQueue;xt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?s=a:o.next=a,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=a:l.next=a,f.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;o=0,f=a=u=null,l=s;do{var d=l.lane,g=l.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,v=l;switch(d=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){c=_.call(g,c,d);break e}c=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(g,c,d):_,d==null)break e;c=X({},c,d);break e;case 2:xt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(a=f=g,u=c):f=f.next=g,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(f===null&&(u=c),i.baseState=u,i.firstBaseUpdate=a,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vn|=o,t.lanes=o,t.memoizedState=c}}function Wc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var hh=new df.Component().refs;function Yl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:X({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uo={isMounted:function(t){return(t=t._reactInternals)?In(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Wt(t),s=gt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),ls(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Wt(t),s=gt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ut(t,s,i),e!==null&&(nt(e,t,i,r),ls(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Wt(t),i=gt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ut(t,i,r),e!==null&&(nt(e,t,r,n),ls(e,t,r))}};function Hc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ni(n,r)||!ni(i,s):!0}function ph(t,e,n){var r=!1,i=Qt,s=e.contextType;return typeof s=="object"&&s!==null?s=be(s):(i=De(e)?mn:Ee.current,r=e.contextTypes,s=(r=r!=null)?er(t,i):Qt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uo.enqueueReplaceState(e,e.state,null)}function Kl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=hh,na(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=be(s):(s=De(e)?mn:Ee.current,i.context=er(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uo.enqueueReplaceState(i,i.state,null),Ps(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ir(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===hh&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,t))}return t}function Ki(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vc(t){var e=t._init;return e(t._payload)}function mh(t){function e(p,h){if(t){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=Ht(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,y){return h===null||h.tag!==6?(h=nl(m,p.mode,y),h.return=p,h):(h=i(h,m),h.return=p,h)}function u(p,h,m,y){var S=m.type;return S===Dn?f(p,h,m.props.children,y,m.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nt&&Vc(S)===h.type)?(y=i(h,m.props),y.ref=Ir(p,h,m),y.return=p,y):(y=hs(m.type,m.key,m.props,null,p.mode,y),y.ref=Ir(p,h,m),y.return=p,y)}function a(p,h,m,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=rl(m,p.mode,y),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function f(p,h,m,y,S){return h===null||h.tag!==7?(h=hn(m,p.mode,y,S),h.return=p,h):(h=i(h,m),h.return=p,h)}function c(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=nl(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ui:return m=hs(h.type,h.key,h.props,null,p.mode,m),m.ref=Ir(p,null,h),m.return=p,m;case Pn:return h=rl(h,p.mode,m),h.return=p,h;case Nt:var y=h._init;return c(p,y(h._payload),m)}if(Ar(h)||wr(h))return h=hn(h,p.mode,m,null),h.return=p,h;Ki(p,h)}return null}function d(p,h,m,y){var S=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,h,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ui:return m.key===S?u(p,h,m,y):null;case Pn:return m.key===S?a(p,h,m,y):null;case Nt:return S=m._init,d(p,h,S(m._payload),y)}if(Ar(m)||wr(m))return S!==null?null:f(p,h,m,y,null);Ki(p,m)}return null}function g(p,h,m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,l(h,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ui:return p=p.get(y.key===null?m:y.key)||null,u(h,p,y,S);case Pn:return p=p.get(y.key===null?m:y.key)||null,a(h,p,y,S);case Nt:var I=y._init;return g(p,h,m,I(y._payload),S)}if(Ar(y)||wr(y))return p=p.get(m)||null,f(h,p,y,S,null);Ki(h,y)}return null}function _(p,h,m,y){for(var S=null,I=null,T=h,N=h=0,ee=null;T!==null&&N<m.length;N++){T.index>N?(ee=T,T=null):ee=T.sibling;var F=d(p,T,m[N],y);if(F===null){T===null&&(T=ee);break}t&&T&&F.alternate===null&&e(p,T),h=s(F,h,N),I===null?S=F:I.sibling=F,I=F,T=ee}if(N===m.length)return n(p,T),Q&&nn(p,N),S;if(T===null){for(;N<m.length;N++)T=c(p,m[N],y),T!==null&&(h=s(T,h,N),I===null?S=T:I.sibling=T,I=T);return Q&&nn(p,N),S}for(T=r(p,T);N<m.length;N++)ee=g(T,p,N,m[N],y),ee!==null&&(t&&ee.alternate!==null&&T.delete(ee.key===null?N:ee.key),h=s(ee,h,N),I===null?S=ee:I.sibling=ee,I=ee);return t&&T.forEach(function(Qe){return e(p,Qe)}),Q&&nn(p,N),S}function v(p,h,m,y){var S=wr(m);if(typeof S!="function")throw Error(w(150));if(m=S.call(m),m==null)throw Error(w(151));for(var I=S=null,T=h,N=h=0,ee=null,F=m.next();T!==null&&!F.done;N++,F=m.next()){T.index>N?(ee=T,T=null):ee=T.sibling;var Qe=d(p,T,F.value,y);if(Qe===null){T===null&&(T=ee);break}t&&T&&Qe.alternate===null&&e(p,T),h=s(Qe,h,N),I===null?S=Qe:I.sibling=Qe,I=Qe,T=ee}if(F.done)return n(p,T),Q&&nn(p,N),S;if(T===null){for(;!F.done;N++,F=m.next())F=c(p,F.value,y),F!==null&&(h=s(F,h,N),I===null?S=F:I.sibling=F,I=F);return Q&&nn(p,N),S}for(T=r(p,T);!F.done;N++,F=m.next())F=g(T,p,N,F.value,y),F!==null&&(t&&F.alternate!==null&&T.delete(F.key===null?N:F.key),h=s(F,h,N),I===null?S=F:I.sibling=F,I=F);return t&&T.forEach(function(vr){return e(p,vr)}),Q&&nn(p,N),S}function R(p,h,m,y){if(typeof m=="object"&&m!==null&&m.type===Dn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ui:e:{for(var S=m.key,I=h;I!==null;){if(I.key===S){if(S=m.type,S===Dn){if(I.tag===7){n(p,I.sibling),h=i(I,m.props.children),h.return=p,p=h;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Nt&&Vc(S)===I.type){n(p,I.sibling),h=i(I,m.props),h.ref=Ir(p,I,m),h.return=p,p=h;break e}n(p,I);break}else e(p,I);I=I.sibling}m.type===Dn?(h=hn(m.props.children,p.mode,y,m.key),h.return=p,p=h):(y=hs(m.type,m.key,m.props,null,p.mode,y),y.ref=Ir(p,h,m),y.return=p,p=y)}return o(p);case Pn:e:{for(I=m.key;h!==null;){if(h.key===I)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=rl(m,p.mode,y),h.return=p,p=h}return o(p);case Nt:return I=m._init,R(p,h,I(m._payload),y)}if(Ar(m))return _(p,h,m,y);if(wr(m))return v(p,h,m,y);Ki(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=nl(m,p.mode,y),h.return=p,p=h),o(p)):n(p,h)}return R}var nr=mh(!0),gh=mh(!1),Ni={},at=Jt(Ni),oi=Jt(Ni),li=Jt(Ni);function an(t){if(t===Ni)throw Error(w(174));return t}function ra(t,e){switch(V(li,e),V(oi,t),V(at,Ni),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nl(e,t)}G(at),V(at,e)}function rr(){G(at),G(oi),G(li)}function _h(t){an(li.current);var e=an(at.current),n=Nl(e,t.type);e!==n&&(V(oi,t),V(at,n))}function ia(t){oi.current===t&&(G(at),G(oi))}var K=Jt(0);function Ds(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qo=[];function sa(){for(var t=0;t<qo.length;t++)qo[t]._workInProgressVersionPrimary=null;qo.length=0}var us=St.ReactCurrentDispatcher,Xo=St.ReactCurrentBatchConfig,_n=0,q=null,ie=null,ce=null,Os=!1,Hr=!1,ui=0,U_=0;function _e(){throw Error(w(321))}function oa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!it(t[n],e[n]))return!1;return!0}function la(t,e,n,r,i,s){if(_n=s,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,us.current=t===null||t.memoizedState===null?j_:V_,t=n(r,i),Hr){s=0;do{if(Hr=!1,ui=0,25<=s)throw Error(w(301));s+=1,ce=ie=null,e.updateQueue=null,us.current=$_,t=n(r,i)}while(Hr)}if(us.current=As,e=ie!==null&&ie.next!==null,_n=0,ce=ie=q=null,Os=!1,e)throw Error(w(300));return t}function ua(){var t=ui!==0;return ui=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?q.memoizedState=ce=t:ce=ce.next=t,ce}function Ge(){if(ie===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=ce===null?q.memoizedState:ce.next;if(e!==null)ce=e,ie=t;else{if(t===null)throw Error(w(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ce===null?q.memoizedState=ce=t:ce=ce.next=t}return ce}function ai(t,e){return typeof e=="function"?e(t):e}function Jo(t){var e=Ge(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,a=s;do{var f=a.lane;if((_n&f)===f)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:t(r,a.action);else{var c={lane:f,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=c,o=r):u=u.next=c,q.lanes|=f,vn|=f}a=a.next}while(a!==null&&a!==s);u===null?o=r:u.next=l,it(r,e.memoizedState)||(xe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,q.lanes|=s,vn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zo(t){var e=Ge(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);it(s,e.memoizedState)||(xe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vh(){}function yh(t,e){var n=q,r=Ge(),i=e(),s=!it(r.memoizedState,i);if(s&&(r.memoizedState=i,xe=!0),r=r.queue,aa(Ch.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,ci(9,Eh.bind(null,n,r,i,e),void 0,null),he===null)throw Error(w(349));_n&30||wh(n,e,i)}return i}function wh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Eh(t,e,n,r){e.value=n,e.getSnapshot=r,Sh(e)&&kh(t)}function Ch(t,e,n){return n(function(){Sh(e)&&kh(t)})}function Sh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!it(t,n)}catch{return!0}}function kh(t){var e=wt(t,1);e!==null&&nt(e,t,1,-1)}function $c(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:t},e.queue=t,t=t.dispatch=H_.bind(null,q,t),[e.memoizedState,t]}function ci(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ih(){return Ge().memoizedState}function as(t,e,n,r){var i=ot();q.flags|=t,i.memoizedState=ci(1|e,n,void 0,r===void 0?null:r)}function ao(t,e,n,r){var i=Ge();r=r===void 0?null:r;var s=void 0;if(ie!==null){var o=ie.memoizedState;if(s=o.destroy,r!==null&&oa(r,o.deps)){i.memoizedState=ci(e,n,s,r);return}}q.flags|=t,i.memoizedState=ci(1|e,n,s,r)}function bc(t,e){return as(8390656,8,t,e)}function aa(t,e){return ao(2048,8,t,e)}function Th(t,e){return ao(4,2,t,e)}function Nh(t,e){return ao(4,4,t,e)}function xh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rh(t,e,n){return n=n!=null?n.concat([t]):null,ao(4,4,xh.bind(null,e,t),n)}function ca(){}function Ph(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Dh(t,e){var n=Ge();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oh(t,e,n){return _n&21?(it(n,e)||(n=Lf(),q.lanes|=n,vn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xe=!0),t.memoizedState=n)}function B_(t,e){var n=B;B=n!==0&&4>n?n:4,t(!0);var r=Xo.transition;Xo.transition={};try{t(!1),e()}finally{B=n,Xo.transition=r}}function Ah(){return Ge().memoizedState}function W_(t,e,n){var r=Wt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mh(t))Lh(e,n);else if(n=dh(t,e,n,r),n!==null){var i=ke();nt(n,t,r,i),Fh(n,e,r)}}function H_(t,e,n){var r=Wt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mh(t))Lh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,it(l,o)){var u=e.interleaved;u===null?(i.next=i,ta(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=dh(t,e,i,r),n!==null&&(i=ke(),nt(n,t,r,i),Fh(n,e,r))}}function Mh(t){var e=t.alternate;return t===q||e!==null&&e===q}function Lh(t,e){Hr=Os=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hu(t,n)}}var As={readContext:be,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},j_={readContext:be,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:be,useEffect:bc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,as(4194308,4,xh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return as(4194308,4,t,e)},useInsertionEffect:function(t,e){return as(4,2,t,e)},useMemo:function(t,e){var n=ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ot();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=W_.bind(null,q,t),[r.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:$c,useDebugValue:ca,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=$c(!1),e=t[0];return t=B_.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=q,i=ot();if(Q){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),he===null)throw Error(w(349));_n&30||wh(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bc(Ch.bind(null,r,s,t),[t]),r.flags|=2048,ci(9,Eh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ot(),e=he.identifierPrefix;if(Q){var n=pt,r=ht;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ui++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=U_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},V_={readContext:be,useCallback:Ph,useContext:be,useEffect:aa,useImperativeHandle:Rh,useInsertionEffect:Th,useLayoutEffect:Nh,useMemo:Dh,useReducer:Jo,useRef:Ih,useState:function(){return Jo(ai)},useDebugValue:ca,useDeferredValue:function(t){var e=Ge();return Oh(e,ie.memoizedState,t)},useTransition:function(){var t=Jo(ai)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:vh,useSyncExternalStore:yh,useId:Ah,unstable_isNewReconciler:!1},$_={readContext:be,useCallback:Ph,useContext:be,useEffect:aa,useImperativeHandle:Rh,useInsertionEffect:Th,useLayoutEffect:Nh,useMemo:Dh,useReducer:Zo,useRef:Ih,useState:function(){return Zo(ai)},useDebugValue:ca,useDeferredValue:function(t){var e=Ge();return ie===null?e.memoizedState=t:Oh(e,ie.memoizedState,t)},useTransition:function(){var t=Zo(ai)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:vh,useSyncExternalStore:yh,useId:Ah,unstable_isNewReconciler:!1};function ir(t,e){try{var n="",r=e;do n+=vg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function el(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ql(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b_=typeof WeakMap=="function"?WeakMap:Map;function zh(t,e,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ls||(Ls=!0,ou=r),ql(t,e)},n}function Uh(t,e,n){n=gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ql(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ql(t,e),typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Gc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sv.bind(null,t,e,n),e.then(t,t))}function Qc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gt(-1,1),e.tag=2,Ut(n,e,1))),n.lanes|=1),t)}var G_=St.ReactCurrentOwner,xe=!1;function Ce(t,e,n,r){e.child=t===null?gh(e,null,n,r):nr(e,t.child,n,r)}function Kc(t,e,n,r,i){n=n.render;var s=e.ref;return Qn(e,i),r=la(t,e,n,r,s,i),n=ua(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Et(t,e,i)):(Q&&n&&Ku(e),e.flags|=1,Ce(t,e,r,i),e.child)}function qc(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!va(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Bh(t,e,s,r,i)):(t=hs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,r)&&t.ref===e.ref)return Et(t,e,i)}return e.flags|=1,t=Ht(s,r),t.ref=e.ref,t.return=e,e.child=t}function Bh(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ni(s,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(xe=!0);else return e.lanes=t.lanes,Et(t,e,i)}return Xl(t,e,n,r,i)}function Wh(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Hn,Le),Le|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(Hn,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,V(Hn,Le),Le|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,V(Hn,Le),Le|=r;return Ce(t,e,i,n),e.child}function Hh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xl(t,e,n,r,i){var s=De(n)?mn:Ee.current;return s=er(e,s),Qn(e,i),n=la(t,e,n,r,s,i),r=ua(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Et(t,e,i)):(Q&&r&&Ku(e),e.flags|=1,Ce(t,e,n,i),e.child)}function Xc(t,e,n,r,i){if(De(n)){var s=!0;Is(e)}else s=!1;if(Qn(e,i),e.stateNode===null)cs(t,e),ph(e,n,r),Kl(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=be(a):(a=De(n)?mn:Ee.current,a=er(e,a));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&jc(e,o,r,a),xt=!1;var d=e.memoizedState;o.state=d,Ps(e,r,o,i),u=e.memoizedState,l!==r||d!==u||Pe.current||xt?(typeof f=="function"&&(Yl(e,n,f,r),u=e.memoizedState),(l=xt||Hc(e,n,l,r,d,u,a))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fh(t,e),l=e.memoizedProps,a=e.type===e.elementType?l:Ke(e.type,l),o.props=a,c=e.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=be(u):(u=De(n)?mn:Ee.current,u=er(e,u));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==u)&&jc(e,o,r,u),xt=!1,d=e.memoizedState,o.state=d,Ps(e,r,o,i);var _=e.memoizedState;l!==c||d!==_||Pe.current||xt?(typeof g=="function"&&(Yl(e,n,g,r),_=e.memoizedState),(a=xt||Hc(e,n,a,r,d,_,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Jl(t,e,n,r,s,i)}function Jl(t,e,n,r,i,s){Hh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fc(e,n,!1),Et(t,e,s);r=e.stateNode,G_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nr(e,t.child,null,s),e.child=nr(e,null,l,s)):Ce(t,e,l,s),e.memoizedState=r.state,i&&Fc(e,n,!0),e.child}function jh(t){var e=t.stateNode;e.pendingContext?Lc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lc(t,e.context,!1),ra(t,e.containerInfo)}function Jc(t,e,n,r,i){return tr(),Xu(i),e.flags|=256,Ce(t,e,n,r),e.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vh(t,e,n){var r=e.pendingProps,i=K.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),V(K,i&1),t===null)return Gl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ho(o,r,0,null),t=hn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=eu(n),e.memoizedState=Zl,t):da(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Q_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ht(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ht(l,s):(s=hn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?eu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Zl,r}return s=t.child,t=s.sibling,r=Ht(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function da(t,e){return e=ho({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qi(t,e,n,r){return r!==null&&Xu(r),nr(e,t.child,null,n),t=da(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=el(Error(w(422))),qi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ho({mode:"visible",children:r.children},i,0,null),s=hn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&nr(e,t.child,null,o),e.child.memoizedState=eu(o),e.memoizedState=Zl,s);if(!(e.mode&1))return qi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(w(419)),r=el(s,r,void 0),qi(t,e,o,r)}if(l=(o&t.childLanes)!==0,xe||l){if(r=he,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wt(t,i),nt(r,t,i,-1))}return _a(),r=el(Error(w(421))),qi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ov.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fe=zt(i.nextSibling),ze=e,Q=!0,Xe=null,t!==null&&(He[je++]=ht,He[je++]=pt,He[je++]=gn,ht=t.id,pt=t.overflow,gn=e),e=da(e,r.children),e.flags|=4096,e)}function Zc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ql(t.return,e,n)}function tl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $h(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ce(t,e,r.children,n),r=K.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zc(t,n,e);else if(t.tag===19)Zc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(K,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ds(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ds(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tl(e,!0,n,null,s);break;case"together":tl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=Ht(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ht(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y_(t,e,n){switch(e.tag){case 3:jh(e),tr();break;case 5:_h(e);break;case 1:De(e.type)&&Is(e);break;case 4:ra(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;V(xs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(K,K.current&1),e.flags|=128,null):n&e.child.childLanes?Vh(t,e,n):(V(K,K.current&1),t=Et(t,e,n),t!==null?t.sibling:null);V(K,K.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $h(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(K,K.current),r)break;return null;case 22:case 23:return e.lanes=0,Wh(t,e,n)}return Et(t,e,n)}var bh,tu,Gh,Qh;bh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tu=function(){};Gh=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,an(at.current);var s=null;switch(n){case"input":i=Sl(t,i),r=Sl(t,r),s=[];break;case"select":i=X({},i,{value:void 0}),r=X({},r,{value:void 0}),s=[];break;case"textarea":i=Tl(t,i),r=Tl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ss)}xl(n,r);var o;n=null;for(a in i)if(!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&i[a]!=null)if(a==="style"){var l=i[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Kr.hasOwnProperty(a)?s||(s=[]):(s=s||[]).push(a,null));for(a in r){var u=r[a];if(l=i!=null?i[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(Kr.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&$("scroll",t),s||l===u||(s=[])):(s=s||[]).push(a,u))}n&&(s=s||[]).push("style",n);var a=s;(e.updateQueue=a)&&(e.flags|=4)}};Qh=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tr(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function K_(t,e,n){var r=e.pendingProps;switch(qu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return De(e.type)&&ks(),ve(e),null;case 3:return r=e.stateNode,rr(),G(Pe),G(Ee),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xe!==null&&(au(Xe),Xe=null))),tu(t,e),ve(e),null;case 5:ia(e);var i=an(li.current);if(n=e.type,t!==null&&e.stateNode!=null)Gh(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(w(166));return ve(e),null}if(t=an(at.current),Yi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lt]=e,r[si]=s,t=(e.mode&1)!==0,n){case"dialog":$("cancel",r),$("close",r);break;case"iframe":case"object":case"embed":$("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)$(Lr[i],r);break;case"source":$("error",r);break;case"img":case"image":case"link":$("error",r),$("load",r);break;case"details":$("toggle",r);break;case"input":uc(r,s),$("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$("invalid",r);break;case"textarea":cc(r,s),$("invalid",r)}xl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Qi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Qi(r.textContent,l,t),i=["children",""+l]):Kr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$("scroll",r)}switch(n){case"input":Bi(r),ac(r,s,!0);break;case"textarea":Bi(r),dc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ss)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lt]=e,t[si]=r,bh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rl(n,r),n){case"dialog":$("cancel",t),$("close",t),i=r;break;case"iframe":case"object":case"embed":$("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)$(Lr[i],t);i=r;break;case"source":$("error",t),i=r;break;case"img":case"image":case"link":$("error",t),$("load",t),i=r;break;case"details":$("toggle",t),i=r;break;case"input":uc(t,r),i=Sl(t,r),$("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=X({},r,{value:void 0}),$("invalid",t);break;case"textarea":cc(t,r),i=Tl(t,r),$("invalid",t);break;default:i=r}xl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Sf(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ef(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&qr(t,u):typeof u=="number"&&qr(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$("scroll",t):u!=null&&Lu(t,s,u,o))}switch(n){case"input":Bi(t),ac(t,r,!1);break;case"textarea":Bi(t),dc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Qh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(w(166));if(n=an(li.current),an(at.current),Yi(e)){if(r=e.stateNode,n=e.memoizedProps,r[lt]=e,(s=r.nodeValue!==n)&&(t=ze,t!==null))switch(t.tag){case 3:Qi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=e,e.stateNode=r}return ve(e),null;case 13:if(G(K),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Fe!==null&&e.mode&1&&!(e.flags&128))ch(),tr(),e.flags|=98560,s=!1;else if(s=Yi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(w(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(w(317));s[lt]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),s=!1}else Xe!==null&&(au(Xe),Xe=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||K.current&1?le===0&&(le=3):_a())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return rr(),tu(t,e),t===null&&ri(e.stateNode.containerInfo),ve(e),null;case 10:return ea(e.type._context),ve(e),null;case 17:return De(e.type)&&ks(),ve(e),null;case 19:if(G(K),s=e.memoizedState,s===null)return ve(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Tr(s,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ds(t),o!==null){for(e.flags|=128,Tr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(K,K.current&1|2),e.child}t=t.sibling}s.tail!==null&&ne()>sr&&(e.flags|=128,r=!0,Tr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ds(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Q)return ve(e),null}else 2*ne()-s.renderingStartTime>sr&&n!==1073741824&&(e.flags|=128,r=!0,Tr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ne(),e.sibling=null,n=K.current,V(K,r?n&1|2:n&1),e):(ve(e),null);case 22:case 23:return ga(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Le&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function q_(t,e){switch(qu(e),e.tag){case 1:return De(e.type)&&ks(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rr(),G(Pe),G(Ee),sa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ia(e),null;case 13:if(G(K),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(K),null;case 4:return rr(),null;case 10:return ea(e.type._context),null;case 22:case 23:return ga(),null;case 24:return null;default:return null}}var Xi=!1,ye=!1,X_=typeof WeakSet=="function"?WeakSet:Set,C=null;function Wn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function nu(t,e,n){try{n()}catch(r){J(t,e,r)}}var ed=!1;function J_(t,e){if(Bl=ws,t=Xf(),Yu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,f=0,c=t,d=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(l=o+i),c!==s||r!==0&&c.nodeType!==3||(u=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)d=c,c=g;for(;;){if(c===t)break t;if(d===n&&++a===i&&(l=o),d===s&&++f===r&&(u=o),(g=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:t,selectionRange:n},ws=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,R=_.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ke(e.type,v),R);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(y){J(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return _=ed,ed=!1,_}function jr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nu(e,n,s)}i=i.next}while(i!==r)}}function co(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ru(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yh(t){var e=t.alternate;e!==null&&(t.alternate=null,Yh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[si],delete e[Vl],delete e[M_],delete e[L_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kh(t){return t.tag===5||t.tag===3||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ss));else if(r!==4&&(t=t.child,t!==null))for(iu(t,e,n),t=t.sibling;t!==null;)iu(t,e,n),t=t.sibling}function su(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(su(t,e,n),t=t.sibling;t!==null;)su(t,e,n),t=t.sibling}var pe=null,qe=!1;function Tt(t,e,n){for(n=n.child;n!==null;)qh(t,e,n),n=n.sibling}function qh(t,e,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(no,n)}catch{}switch(n.tag){case 5:ye||Wn(n,e);case 6:var r=pe,i=qe;pe=null,Tt(t,e,n),pe=r,qe=i,pe!==null&&(qe?(t=pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pe.removeChild(n.stateNode));break;case 18:pe!==null&&(qe?(t=pe,n=n.stateNode,t.nodeType===8?Yo(t.parentNode,n):t.nodeType===1&&Yo(t,n),ei(t)):Yo(pe,n.stateNode));break;case 4:r=pe,i=qe,pe=n.stateNode.containerInfo,qe=!0,Tt(t,e,n),pe=r,qe=i;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nu(n,e,o),i=i.next}while(i!==r)}Tt(t,e,n);break;case 1:if(!ye&&(Wn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,e,l)}Tt(t,e,n);break;case 21:Tt(t,e,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,Tt(t,e,n),ye=r):Tt(t,e,n);break;default:Tt(t,e,n)}}function nd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X_),e.forEach(function(r){var i=lv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ye(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:pe=l.stateNode,qe=!1;break e;case 3:pe=l.stateNode.containerInfo,qe=!0;break e;case 4:pe=l.stateNode.containerInfo,qe=!0;break e}l=l.return}if(pe===null)throw Error(w(160));qh(s,o,i),pe=null,qe=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(a){J(i,e,a)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xh(e,t),e=e.sibling}function Xh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),st(t),r&4){try{jr(3,t,t.return),co(3,t)}catch(v){J(t,t.return,v)}try{jr(5,t,t.return)}catch(v){J(t,t.return,v)}}break;case 1:Ye(e,t),st(t),r&512&&n!==null&&Wn(n,n.return);break;case 5:if(Ye(e,t),st(t),r&512&&n!==null&&Wn(n,n.return),t.flags&32){var i=t.stateNode;try{qr(i,"")}catch(v){J(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&vf(i,s),Rl(l,o);var a=Rl(l,s);for(o=0;o<u.length;o+=2){var f=u[o],c=u[o+1];f==="style"?Sf(i,c):f==="dangerouslySetInnerHTML"?Ef(i,c):f==="children"?qr(i,c):Lu(i,f,c,a)}switch(l){case"input":kl(i,s);break;case"textarea":yf(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Vn(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?Vn(i,!!s.multiple,s.defaultValue,!0):Vn(i,!!s.multiple,s.multiple?[]:"",!1))}i[si]=s}catch(v){J(t,t.return,v)}}break;case 6:if(Ye(e,t),st(t),r&4){if(t.stateNode===null)throw Error(w(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){J(t,t.return,v)}}break;case 3:if(Ye(e,t),st(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(e.containerInfo)}catch(v){J(t,t.return,v)}break;case 4:Ye(e,t),st(t);break;case 13:Ye(e,t),st(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pa=ne())),r&4&&nd(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ye=(a=ye)||f,Ye(e,t),ye=a):Ye(e,t),st(t),r&8192){if(a=t.memoizedState!==null,(t.stateNode.isHidden=a)&&!f&&t.mode&1)for(C=t,f=t.child;f!==null;){for(c=C=f;C!==null;){switch(d=C,g=d.child,d.tag){case 0:case 11:case 14:case 15:jr(4,d,d.return);break;case 1:Wn(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){J(r,n,v)}}break;case 5:Wn(d,d.return);break;case 22:if(d.memoizedState!==null){id(c);continue}}g!==null?(g.return=d,C=g):id(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,a?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=c.stateNode,u=c.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Cf("display",o))}catch(v){J(t,t.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(v){J(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ye(e,t),st(t),r&4&&nd(t);break;case 21:break;default:Ye(e,t),st(t)}}function st(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kh(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qr(i,""),r.flags&=-33);var s=td(t);su(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=td(t);iu(t,l,o);break;default:throw Error(w(161))}}catch(u){J(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z_(t,e,n){C=t,Jh(t)}function Jh(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var i=C,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xi;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ye;l=Xi;var a=ye;if(Xi=o,(ye=u)&&!a)for(C=i;C!==null;)o=C,u=o.child,o.tag===22&&o.memoizedState!==null?sd(i):u!==null?(u.return=o,C=u):sd(i);for(;s!==null;)C=s,Jh(s),s=s.sibling;C=i,Xi=l,ye=a}rd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,C=s):rd(t)}}function rd(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||co(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ye)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Wc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wc(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var a=e.alternate;if(a!==null){var f=a.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&ei(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}ye||e.flags&512&&ru(e)}catch(d){J(e,e.return,d)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function id(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function sd(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{co(4,e)}catch(u){J(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){J(e,i,u)}}var s=e.return;try{ru(e)}catch(u){J(e,s,u)}break;case 5:var o=e.return;try{ru(e)}catch(u){J(e,o,u)}}}catch(u){J(e,e.return,u)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var ev=Math.ceil,Ms=St.ReactCurrentDispatcher,fa=St.ReactCurrentOwner,$e=St.ReactCurrentBatchConfig,z=0,he=null,re=null,me=0,Le=0,Hn=Jt(0),le=0,di=null,vn=0,fo=0,ha=0,Vr=null,Ne=null,pa=0,sr=1/0,dt=null,Ls=!1,ou=null,Bt=null,Ji=!1,Ot=null,Fs=0,$r=0,lu=null,ds=-1,fs=0;function ke(){return z&6?ne():ds!==-1?ds:ds=ne()}function Wt(t){return t.mode&1?z&2&&me!==0?me&-me:z_.transition!==null?(fs===0&&(fs=Lf()),fs):(t=B,t!==0||(t=window.event,t=t===void 0?16:jf(t.type)),t):1}function nt(t,e,n,r){if(50<$r)throw $r=0,lu=null,Error(w(185));ki(t,n,r),(!(z&2)||t!==he)&&(t===he&&(!(z&2)&&(fo|=n),le===4&&Pt(t,me)),Oe(t,r),n===1&&z===0&&!(e.mode&1)&&(sr=ne()+500,lo&&Zt()))}function Oe(t,e){var n=t.callbackNode;zg(t,e);var r=ys(t,t===he?me:0);if(r===0)n!==null&&pc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pc(n),e===1)t.tag===0?F_(od.bind(null,t)):lh(od.bind(null,t)),O_(function(){!(z&6)&&Zt()}),n=null;else{switch(Ff(r)){case 1:n=Wu;break;case 4:n=Af;break;case 16:n=vs;break;case 536870912:n=Mf;break;default:n=vs}n=op(n,Zh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zh(t,e){if(ds=-1,fs=0,z&6)throw Error(w(327));var n=t.callbackNode;if(Yn()&&t.callbackNode!==n)return null;var r=ys(t,t===he?me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zs(t,r);else{e=r;var i=z;z|=2;var s=tp();(he!==t||me!==e)&&(dt=null,sr=ne()+500,fn(t,e));do try{rv();break}catch(l){ep(t,l)}while(1);Zu(),Ms.current=s,z=i,re!==null?e=0:(he=null,me=0,e=le)}if(e!==0){if(e===2&&(i=Ml(t),i!==0&&(r=i,e=uu(t,i))),e===1)throw n=di,fn(t,0),Pt(t,r),Oe(t,ne()),n;if(e===6)Pt(t,r);else{if(i=t.current.alternate,!(r&30)&&!tv(i)&&(e=zs(t,r),e===2&&(s=Ml(t),s!==0&&(r=s,e=uu(t,s))),e===1))throw n=di,fn(t,0),Pt(t,r),Oe(t,ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(w(345));case 2:rn(t,Ne,dt);break;case 3:if(Pt(t,r),(r&130023424)===r&&(e=pa+500-ne(),10<e)){if(ys(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jl(rn.bind(null,t,Ne,dt),e);break}rn(t,Ne,dt);break;case 4:if(Pt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ev(r/1960))-r,10<r){t.timeoutHandle=jl(rn.bind(null,t,Ne,dt),r);break}rn(t,Ne,dt);break;case 5:rn(t,Ne,dt);break;default:throw Error(w(329))}}}return Oe(t,ne()),t.callbackNode===n?Zh.bind(null,t):null}function uu(t,e){var n=Vr;return t.current.memoizedState.isDehydrated&&(fn(t,e).flags|=256),t=zs(t,e),t!==2&&(e=Ne,Ne=n,e!==null&&au(e)),t}function au(t){Ne===null?Ne=t:Ne.push.apply(Ne,t)}function tv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!it(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~ha,e&=~fo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tt(e),r=1<<n;t[n]=-1,e&=~r}}function od(t){if(z&6)throw Error(w(327));Yn();var e=ys(t,0);if(!(e&1))return Oe(t,ne()),null;var n=zs(t,e);if(t.tag!==0&&n===2){var r=Ml(t);r!==0&&(e=r,n=uu(t,r))}if(n===1)throw n=di,fn(t,0),Pt(t,e),Oe(t,ne()),n;if(n===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rn(t,Ne,dt),Oe(t,ne()),null}function ma(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(sr=ne()+500,lo&&Zt())}}function yn(t){Ot!==null&&Ot.tag===0&&!(z&6)&&Yn();var e=z;z|=1;var n=$e.transition,r=B;try{if($e.transition=null,B=1,t)return t()}finally{B=r,$e.transition=n,z=e,!(z&6)&&Zt()}}function ga(){Le=Hn.current,G(Hn)}function fn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,D_(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(qu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:rr(),G(Pe),G(Ee),sa();break;case 5:ia(r);break;case 4:rr();break;case 13:G(K);break;case 19:G(K);break;case 10:ea(r.type._context);break;case 22:case 23:ga()}n=n.return}if(he=t,re=t=Ht(t.current,null),me=Le=e,le=0,di=null,ha=fo=vn=0,Ne=Vr=null,un!==null){for(e=0;e<un.length;e++)if(n=un[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}un=null}return t}function ep(t,e){do{var n=re;try{if(Zu(),us.current=As,Os){for(var r=q.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Os=!1}if(_n=0,ce=ie=q=null,Hr=!1,ui=0,fa.current=null,n===null||n.return===null){le=1,di=e,re=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=me,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,f=l,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Qc(o);if(g!==null){g.flags&=-257,Yc(g,o,l,s,e),g.mode&1&&Gc(s,a,e),e=g,u=a;var _=e.updateQueue;if(_===null){var v=new Set;v.add(u),e.updateQueue=v}else _.add(u);break e}else{if(!(e&1)){Gc(s,a,e),_a();break e}u=Error(w(426))}}else if(Q&&l.mode&1){var R=Qc(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Yc(R,o,l,s,e),Xu(ir(u,l));break e}}s=u=ir(u,l),le!==4&&(le=2),Vr===null?Vr=[s]:Vr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=zh(s,u,e);Bc(s,p);break e;case 1:l=u;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bt===null||!Bt.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=Uh(s,l,e);Bc(s,y);break e}}s=s.return}while(s!==null)}rp(n)}catch(S){e=S,re===n&&n!==null&&(re=n=n.return);continue}break}while(1)}function tp(){var t=Ms.current;return Ms.current=As,t===null?As:t}function _a(){(le===0||le===3||le===2)&&(le=4),he===null||!(vn&268435455)&&!(fo&268435455)||Pt(he,me)}function zs(t,e){var n=z;z|=2;var r=tp();(he!==t||me!==e)&&(dt=null,fn(t,e));do try{nv();break}catch(i){ep(t,i)}while(1);if(Zu(),z=n,Ms.current=r,re!==null)throw Error(w(261));return he=null,me=0,le}function nv(){for(;re!==null;)np(re)}function rv(){for(;re!==null&&!xg();)np(re)}function np(t){var e=sp(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?rp(t):re=e,fa.current=null}function rp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=q_(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,re=null;return}}else if(n=K_(n,e,Le),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);le===0&&(le=5)}function rn(t,e,n){var r=B,i=$e.transition;try{$e.transition=null,B=1,iv(t,e,n,r)}finally{$e.transition=i,B=r}return null}function iv(t,e,n,r){do Yn();while(Ot!==null);if(z&6)throw Error(w(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ug(t,s),t===he&&(re=he=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,op(vs,function(){return Yn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$e.transition,$e.transition=null;var o=B;B=1;var l=z;z|=4,fa.current=null,J_(t,n),Xh(n,t),k_(Wl),ws=!!Bl,Wl=Bl=null,t.current=n,Z_(n),Rg(),z=l,B=o,$e.transition=s}else t.current=n;if(Ji&&(Ji=!1,Ot=t,Fs=i),s=t.pendingLanes,s===0&&(Bt=null),Og(n.stateNode),Oe(t,ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ls)throw Ls=!1,t=ou,ou=null,t;return Fs&1&&t.tag!==0&&Yn(),s=t.pendingLanes,s&1?t===lu?$r++:($r=0,lu=t):$r=0,Zt(),null}function Yn(){if(Ot!==null){var t=Ff(Fs),e=$e.transition,n=B;try{if($e.transition=null,B=16>t?16:t,Ot===null)var r=!1;else{if(t=Ot,Ot=null,Fs=0,z&6)throw Error(w(331));var i=z;for(z|=4,C=t.current;C!==null;){var s=C,o=s.child;if(C.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(C=a;C!==null;){var f=C;switch(f.tag){case 0:case 11:case 15:jr(8,f,s)}var c=f.child;if(c!==null)c.return=f,C=c;else for(;C!==null;){f=C;var d=f.sibling,g=f.return;if(Yh(f),f===a){C=null;break}if(d!==null){d.return=g,C=d;break}C=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var R=v.sibling;v.sibling=null,v=R}while(v!==null)}}C=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,C=o;else e:for(;C!==null;){if(s=C,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jr(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,C=p;break e}C=s.return}}var h=t.current;for(C=h;C!==null;){o=C;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,C=m;else e:for(o=h;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:co(9,l)}}catch(S){J(l,l.return,S)}if(l===o){C=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,C=y;break e}C=l.return}}if(z=i,Zt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(no,t)}catch{}r=!0}return r}finally{B=n,$e.transition=e}}return!1}function ld(t,e,n){e=ir(n,e),e=zh(t,e,1),t=Ut(t,e,1),e=ke(),t!==null&&(ki(t,1,e),Oe(t,e))}function J(t,e,n){if(t.tag===3)ld(t,t,n);else for(;e!==null;){if(e.tag===3){ld(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=ir(n,t),t=Uh(e,t,1),e=Ut(e,t,1),t=ke(),e!==null&&(ki(e,1,t),Oe(e,t));break}}e=e.return}}function sv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,he===t&&(me&n)===n&&(le===4||le===3&&(me&130023424)===me&&500>ne()-pa?fn(t,0):ha|=n),Oe(t,e)}function ip(t,e){e===0&&(t.mode&1?(e=ji,ji<<=1,!(ji&130023424)&&(ji=4194304)):e=1);var n=ke();t=wt(t,e),t!==null&&(ki(t,e,n),Oe(t,n))}function ov(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ip(t,n)}function lv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(e),ip(t,n)}var sp;sp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xe=!1,Y_(t,e,n);xe=!!(t.flags&131072)}else xe=!1,Q&&e.flags&1048576&&uh(e,Ns,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cs(t,e),t=e.pendingProps;var i=er(e,Ee.current);Qn(e,n),i=la(null,e,r,t,i,n);var s=ua();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(r)?(s=!0,Is(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,na(e),i.updater=uo,e.stateNode=i,i._reactInternals=e,Kl(e,r,t,n),e=Jl(null,e,r,!0,s,n)):(e.tag=0,Q&&s&&Ku(e),Ce(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=av(r),t=Ke(r,t),i){case 0:e=Xl(null,e,r,t,n);break e;case 1:e=Xc(null,e,r,t,n);break e;case 11:e=Kc(null,e,r,t,n);break e;case 14:e=qc(null,e,r,Ke(r.type,t),n);break e}throw Error(w(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Xl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Xc(t,e,r,i,n);case 3:e:{if(jh(e),t===null)throw Error(w(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fh(t,e),Ps(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ir(Error(w(423)),e),e=Jc(t,e,r,n,i);break e}else if(r!==i){i=ir(Error(w(424)),e),e=Jc(t,e,r,n,i);break e}else for(Fe=zt(e.stateNode.containerInfo.firstChild),ze=e,Q=!0,Xe=null,n=gh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),r===i){e=Et(t,e,n);break e}Ce(t,e,r,n)}e=e.child}return e;case 5:return _h(e),t===null&&Gl(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hl(r,i)?o=null:s!==null&&Hl(r,s)&&(e.flags|=32),Hh(t,e),Ce(t,e,o,n),e.child;case 6:return t===null&&Gl(e),null;case 13:return Vh(t,e,n);case 4:return ra(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nr(e,null,r,n):Ce(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),Kc(t,e,r,i,n);case 7:return Ce(t,e,e.pendingProps,n),e.child;case 8:return Ce(t,e,e.pendingProps.children,n),e.child;case 12:return Ce(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,V(xs,r._currentValue),r._currentValue=o,s!==null)if(it(s.value,o)){if(s.children===i.children&&!Pe.current){e=Et(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=gt(-1,n&-n),u.tag=2;var a=s.updateQueue;if(a!==null){a=a.shared;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ql(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(w(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ql(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ce(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qn(e,n),i=be(i),r=r(i),e.flags|=1,Ce(t,e,r,n),e.child;case 14:return r=e.type,i=Ke(r,e.pendingProps),i=Ke(r.type,i),qc(t,e,r,i,n);case 15:return Bh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ke(r,i),cs(t,e),e.tag=1,De(r)?(t=!0,Is(e)):t=!1,Qn(e,n),ph(e,r,i),Kl(e,r,i,n),Jl(null,e,r,!0,t,n);case 19:return $h(t,e,n);case 22:return Wh(t,e,n)}throw Error(w(156,e.tag))};function op(t,e){return Of(t,e)}function uv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,e,n,r){return new uv(t,e,n,r)}function va(t){return t=t.prototype,!(!t||!t.isReactComponent)}function av(t){if(typeof t=="function")return va(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zu)return 11;if(t===Uu)return 14}return 2}function Ht(t,e){var n=t.alternate;return n===null?(n=Ve(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")va(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dn:return hn(n.children,i,s,e);case Fu:o=8,i|=8;break;case yl:return t=Ve(12,n,e,i|2),t.elementType=yl,t.lanes=s,t;case wl:return t=Ve(13,n,e,i),t.elementType=wl,t.lanes=s,t;case El:return t=Ve(19,n,e,i),t.elementType=El,t.lanes=s,t;case mf:return ho(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hf:o=10;break e;case pf:o=9;break e;case zu:o=11;break e;case Uu:o=14;break e;case Nt:o=16,r=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=Ve(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hn(t,e,n,r){return t=Ve(7,t,r,e),t.lanes=n,t}function ho(t,e,n,r){return t=Ve(22,t,r,e),t.elementType=mf,t.lanes=n,t.stateNode={isHidden:!1},t}function nl(t,e,n){return t=Ve(6,t,null,e),t.lanes=n,t}function rl(t,e,n){return e=Ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ya(t,e,n,r,i,s,o,l,u){return t=new cv(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ve(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(s),t}function dv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lp(t){if(!t)return Qt;t=t._reactInternals;e:{if(In(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var n=t.type;if(De(n))return oh(t,n,e)}return e}function up(t,e,n,r,i,s,o,l,u){return t=ya(n,r,!0,t,i,s,o,l,u),t.context=lp(null),n=t.current,r=ke(),i=Wt(n),s=gt(r,i),s.callback=e??null,Ut(n,s,i),t.current.lanes=i,ki(t,i,r),Oe(t,r),t}function po(t,e,n,r){var i=e.current,s=ke(),o=Wt(i);return n=lp(n),e.context===null?e.context=n:e.pendingContext=n,e=gt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ut(i,e,o),t!==null&&(nt(t,i,o,s),ls(t,i,o)),o}function Us(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ud(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wa(t,e){ud(t,e),(t=t.alternate)&&ud(t,e)}function fv(){return null}var ap=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ea(t){this._internalRoot=t}mo.prototype.render=Ea.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));po(t,e,null,null)};mo.prototype.unmount=Ea.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yn(function(){po(null,t,null,null)}),e[yt]=null}};function mo(t){this._internalRoot=t}mo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rt.length&&e!==0&&e<Rt[n].priority;n++);Rt.splice(n,0,t),n===0&&Hf(t)}};function Ca(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function go(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ad(){}function hv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var a=Us(o);s.call(a)}}var o=up(e,r,t,0,null,!1,!1,"",ad);return t._reactRootContainer=o,t[yt]=o.current,ri(t.nodeType===8?t.parentNode:t),yn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var a=Us(u);l.call(a)}}var u=ya(t,0,!1,null,null,!1,!1,"",ad);return t._reactRootContainer=u,t[yt]=u.current,ri(t.nodeType===8?t.parentNode:t),yn(function(){po(e,u,n,r)}),u}function _o(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Us(o);l.call(u)}}po(e,o,t,i)}else o=hv(n,e,t,i,r);return Us(o)}zf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mr(e.pendingLanes);n!==0&&(Hu(e,n|1),Oe(e,ne()),!(z&6)&&(sr=ne()+500,Zt()))}break;case 13:yn(function(){var r=wt(t,1);if(r!==null){var i=ke();nt(r,t,1,i)}}),wa(t,1)}};ju=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var n=ke();nt(e,t,134217728,n)}wa(t,134217728)}};Uf=function(t){if(t.tag===13){var e=Wt(t),n=wt(t,e);if(n!==null){var r=ke();nt(n,t,e,r)}wa(t,e)}};Bf=function(){return B};Wf=function(t,e){var n=B;try{return B=t,e()}finally{B=n}};Dl=function(t,e,n){switch(e){case"input":if(kl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oo(r);if(!i)throw Error(w(90));_f(r),kl(r,i)}}}break;case"textarea":yf(t,n);break;case"select":e=n.value,e!=null&&Vn(t,!!n.multiple,e,!1)}};Tf=ma;Nf=yn;var pv={usingClientEntryPoint:!1,Events:[Ti,Ln,oo,kf,If,ma]},Nr={findFiberByHostInstance:ln,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mv={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pf(t),t===null?null:t.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||fv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{no=Zi.inject(mv),ut=Zi}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pv;Be.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(e))throw Error(w(200));return dv(t,e,null,n)};Be.createRoot=function(t,e){if(!Ca(t))throw Error(w(299));var n=!1,r="",i=ap;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ya(t,1,!1,null,null,n,!1,r,i),t[yt]=e.current,ri(t.nodeType===8?t.parentNode:t),new Ea(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Pf(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return yn(t)};Be.hydrate=function(t,e,n){if(!go(e))throw Error(w(200));return _o(null,t,e,!0,n)};Be.hydrateRoot=function(t,e,n){if(!Ca(t))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ap;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=up(e,null,t,1,n??null,i,!1,s,o),t[yt]=e.current,ri(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mo(e)};Be.render=function(t,e,n){if(!go(e))throw Error(w(200));return _o(null,t,e,!1,n)};Be.unmountComponentAtNode=function(t){if(!go(t))throw Error(w(40));return t._reactRootContainer?(yn(function(){_o(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};Be.unstable_batchedUpdates=ma;Be.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!go(n))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return _o(t,e,n,!1,r)};Be.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Be})(fg);var cd=gl;ml.createRoot=cd.createRoot,ml.hydrateRoot=cd.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(t,e){if(!t)throw hr(e)},hr=function(t){return new Error("Firebase Database ("+cp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,a=u?t[i+2]:0,f=s>>2,c=(s&3)<<4|l>>4;let d=(l&15)<<2|a>>6,g=a&63;u||(g=64,o||(d=64)),r.push(n[f],n[c],n[d],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||a==null||c==null)throw Error();const d=s<<2|l>>4;if(r.push(d),a!==64){const g=l<<4&240|a>>2;if(r.push(g),c!==64){const _=a<<6&192|c;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fp=function(t){const e=dp(t);return Sa.encodeByteArray(e,!0)},Bs=function(t){return fp(t).replace(/\./g,"")},cu=function(t){try{return Sa.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){return hp(void 0,t)}function hp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vv(n)||(t[n]=hp(t[n],e[n]));return t}function vv(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=()=>yv().__FIREBASE_DEFAULTS__,Ev=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Cv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cu(t[1]);return e&&JSON.parse(e)},pp=()=>{try{return wv()||Ev()||Cv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sv=t=>{var e,n;return(n=(e=pp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kv=t=>{const e=Sv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Iv=()=>{var t;return(t=pp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Bs(JSON.stringify(n)),Bs(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nv())}function xv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gp(){return cp.NODE_ADMIN===!0}function Rv(){try{return typeof indexedDB=="object"}catch{return!1}}function Pv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dv,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_p.prototype.create)}}class _p{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ov(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new xi(i,l,r)}}function Ov(t,e){return t.replace(Av,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Av=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){return JSON.parse(t)}function se(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=fi(cu(s[0])||""),n=fi(cu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Mv=function(t){const e=vp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Lv=function(t){const e=vp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function or(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function dd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ws(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function du(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fd(s)&&fd(o)){if(!du(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)r[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)r[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const d=r[c-3]^r[c-8]^r[c-14]^r[c-16];r[c]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],a,f;for(let c=0;c<80;c++){c<40?c<20?(a=l^s&(o^l),f=1518500249):(a=s^o^l,f=1859775393):c<60?(a=s&o|l&(s|o),f=2400959708):(a=s^o^l,f=3395469782);const d=(i<<5|i>>>27)+a+u+f+r[c]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function ka(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hv(e))try{this.getOrInitializeService({instanceIdentifier:sn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=sn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sn){return this.instances.has(e)}getOptions(e=sn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sn){return this.component?this.component.multipleInstances?e:sn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wv(t){return t===sn?void 0:t}function Hv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(H||(H={}));const Vv={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},$v=H.INFO,bv={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},Gv=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bv[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=$v,this._logHandler=Gv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}}const Qv=(t,e)=>e.some(n=>t instanceof n);let hd,pd;function Yv(){return hd||(hd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kv(){return pd||(pd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wp=new WeakMap,fu=new WeakMap,Ep=new WeakMap,il=new WeakMap,Ia=new WeakMap;function qv(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wp.set(n,t)}).catch(()=>{}),Ia.set(e,t),e}function Xv(t){if(fu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fu.set(t,e)}let hu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ep.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jv(t){hu=t(hu)}function Zv(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sl(this),e,...n);return Ep.set(r,e.sort?e.sort():[e]),jt(r)}:Kv().includes(t)?function(...e){return t.apply(sl(this),e),jt(wp.get(this))}:function(...e){return jt(t.apply(sl(this),e))}}function ey(t){return typeof t=="function"?Zv(t):(t instanceof IDBTransaction&&Xv(t),Qv(t,Yv())?new Proxy(t,hu):t)}function jt(t){if(t instanceof IDBRequest)return qv(t);if(il.has(t))return il.get(t);const e=ey(t);return e!==t&&(il.set(t,e),Ia.set(e,t)),e}const sl=t=>Ia.get(t);function ty(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=jt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(jt(o.result),u.oldVersion,u.newVersion,jt(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const ny=["get","getKey","getAll","getAllKeys","count"],ry=["put","add","delete","clear"],ol=new Map;function md(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ol.get(e))return ol.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ry.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ny.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let a=u.store;return r&&(a=a.index(l.shift())),(await Promise.all([a[n](...l),i&&u.done]))[0]};return ol.set(e,s),s}Jv(t=>({...t,get:(e,n,r)=>md(e,n)||t.get(e,n,r),has:(e,n)=>!!md(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pu="@firebase/app",gd="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new yp("@firebase/app"),oy="@firebase/app-compat",ly="@firebase/analytics-compat",uy="@firebase/analytics",ay="@firebase/app-check-compat",cy="@firebase/app-check",dy="@firebase/auth",fy="@firebase/auth-compat",hy="@firebase/database",py="@firebase/database-compat",my="@firebase/functions",gy="@firebase/functions-compat",_y="@firebase/installations",vy="@firebase/installations-compat",yy="@firebase/messaging",wy="@firebase/messaging-compat",Ey="@firebase/performance",Cy="@firebase/performance-compat",Sy="@firebase/remote-config",ky="@firebase/remote-config-compat",Iy="@firebase/storage",Ty="@firebase/storage-compat",Ny="@firebase/firestore",xy="@firebase/firestore-compat",Ry="firebase",Py="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="[DEFAULT]",Dy={[pu]:"fire-core",[oy]:"fire-core-compat",[uy]:"fire-analytics",[ly]:"fire-analytics-compat",[cy]:"fire-app-check",[ay]:"fire-app-check-compat",[dy]:"fire-auth",[fy]:"fire-auth-compat",[hy]:"fire-rtdb",[py]:"fire-rtdb-compat",[my]:"fire-fn",[gy]:"fire-fn-compat",[_y]:"fire-iid",[vy]:"fire-iid-compat",[yy]:"fire-fcm",[wy]:"fire-fcm-compat",[Ey]:"fire-perf",[Cy]:"fire-perf-compat",[Sy]:"fire-rc",[ky]:"fire-rc-compat",[Iy]:"fire-gcs",[Ty]:"fire-gcs-compat",[Ny]:"fire-fst",[xy]:"fire-fst-compat","fire-js":"fire-js",[Ry]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Map,gu=new Map;function Oy(t,e){try{t.container.addComponent(e)}catch(n){wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function js(t){const e=t.name;if(gu.has(e))return wn.debug(`There were multiple attempts to register component ${e}.`),!1;gu.set(e,t);for(const n of Hs.values())Oy(n,t);return!0}function Ay(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vt=new _p("app","Firebase",My);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=Py;function Cp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vt.create("bad-app-name",{appName:String(i)});if(n||(n=Iv()),!n)throw Vt.create("no-options");const s=Hs.get(i);if(s){if(du(n,s.options)&&du(r,s.config))return s;throw Vt.create("duplicate-app",{appName:i})}const o=new jv(i);for(const u of gu.values())o.addComponent(u);const l=new Ly(n,r,o);return Hs.set(i,l),l}function zy(t=mu){const e=Hs.get(t);if(!e&&t===mu)return Cp();if(!e)throw Vt.create("no-app",{appName:t});return e}function Kn(t,e,n){var r;let i=(r=Dy[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wn.warn(l.join(" "));return}js(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="firebase-heartbeat-database",By=1,pi="firebase-heartbeat-store";let ll=null;function Sp(){return ll||(ll=ty(Uy,By,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pi)}}}).catch(t=>{throw Vt.create("idb-open",{originalErrorMessage:t.message})})),ll}async function Wy(t){try{return(await Sp()).transaction(pi).objectStore(pi).get(kp(t))}catch(e){if(e instanceof xi)wn.warn(e.message);else{const n=Vt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wn.warn(n.message)}}}async function _d(t,e){try{const r=(await Sp()).transaction(pi,"readwrite");return await r.objectStore(pi).put(e,kp(t)),r.done}catch(n){if(n instanceof xi)wn.warn(n.message);else{const r=Vt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wn.warn(r.message)}}}function kp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=1024,jy=30*24*60*60*1e3;class Vy{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new by(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vd();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=jy}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vd(),{heartbeatsToSend:n,unsentEntries:r}=$y(this._heartbeatsCache.heartbeats),i=Bs(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vd(){return new Date().toISOString().substring(0,10)}function $y(t,e=Hy){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class by{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rv()?Pv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Wy(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _d(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _d(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yd(t){return Bs(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){js(new hi("platform-logger",e=>new iy(e),"PRIVATE")),js(new hi("heartbeat",e=>new Vy(e),"PRIVATE")),Kn(pu,gd,t),Kn(pu,gd,"esm2017"),Kn("fire-js","")}Gy("");var Qy="firebase",Yy="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(Qy,Yy,"app");const wd="@firebase/database",Ed="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip="";function Ky(t){Ip=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),se(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return kt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qy(e)}}catch{}return new Xy},cn=Tp("localStorage"),_u=Tp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new yp("@firebase/database"),Jy=function(){let t=1;return function(){return t++}}(),Np=function(t){const e=Uv(t),n=new zv;n.update(e);const r=n.digest();return Sa.encodeByteArray(r)},Ri=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ri.apply(null,r):typeof r=="object"?e+=se(r):e+=r,e+=" "}return e};let pn=null,Cd=!0;const Zy=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qn.logLevel=H.VERBOSE,pn=qn.log.bind(qn),e&&_u.set("logging_enabled",!0)):typeof t=="function"?pn=t:(pn=null,_u.remove("logging_enabled"))},we=function(...t){if(Cd===!0&&(Cd=!1,pn===null&&_u.get("logging_enabled")===!0&&Zy(!0)),pn){const e=Ri.apply(null,t);pn(e)}},Pi=function(t){return function(...e){we(t,...e)}},vu=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ri(...t);qn.error(e)},Ct=function(...t){const e=`FIREBASE FATAL ERROR: ${Ri(...t)}`;throw qn.error(e),new Error(e)},Ae=function(...t){const e="FIREBASE WARNING: "+Ri(...t);qn.warn(e)},e0=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ae("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},t0=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},lr="[MIN_NAME]",En="[MAX_NAME]",mr=function(t,e){if(t===e)return 0;if(t===lr||e===En)return-1;if(e===lr||t===En)return 1;{const n=Sd(t),r=Sd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},n0=function(t,e){return t===e?0:t<e?-1:1},xr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+se(e))},Ta=function(t){if(typeof t!="object"||t===null)return se(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=se(e[r]),n+=":",n+=Ta(t[e[r]]);return n+="}",n},Rp=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Me(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Pp=function(t){E(!xp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const a=[];for(u=n;u;u-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)a.push(s%2?1:0),s=Math.floor(s/2);a.push(i?1:0),a.reverse();const f=a.join("");let c="";for(u=0;u<64;u+=8){let d=parseInt(f.substr(u,8),2).toString(16);d.length===1&&(d="0"+d),c=c+d}return c.toLowerCase()},r0=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},i0=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function s0(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const o0=new RegExp("^-?(0*)\\d{1,10}$"),l0=-2147483648,u0=2147483647,Sd=function(t){if(o0.test(t)){const e=Number(t);if(e>=l0&&e<=u0)return e}return null},gr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ae("Exception was thrown by user callback.",n),e},Math.floor(0))}},a0=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},br=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ae(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(we("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ae(e)}}class Xn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xn.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="5",Dp="v",Op="s",Ap="r",Mp="f",Lp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fp="ls",zp="p",yu="ac",Up="websocket",Bp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i,s=!1,o="",l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function f0(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Hp(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===Up)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Bp)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);f0(t)&&(n.ns=t.namespace);const i=[];return Me(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.counters_={}}incrementCounter(e,n=1){kt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return _v(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul={},al={};function xa(t){const e=t.toString();return ul[e]||(ul[e]=new h0),ul[e]}function p0(t,e){const n=t.toString();return al[n]||(al[n]=e()),al[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&gr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="start",g0="close",_0="pLPCommand",v0="pRTLPCB",jp="id",Vp="pw",$p="ser",y0="cb",w0="seg",E0="ts",C0="d",S0="dframe",bp=1870,Gp=30,k0=bp-Gp,I0=25e3,T0=3e4;class jn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pi(e),this.stats_=xa(n),this.urlFn=u=>(this.appCheckToken&&(u[yu]=this.appCheckToken),Hp(n,Bp,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new m0(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(T0)),t0(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ra((...s)=>{const[o,l,u,a,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kd)this.id=l,this.password=u;else if(o===g0)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[kd]="t",r[$p]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[y0]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Dp]=Na,this.transportSessionId&&(r[Op]=this.transportSessionId),this.lastSessionId&&(r[Fp]=this.lastSessionId),this.applicationId&&(r[zp]=this.applicationId),this.appCheckToken&&(r[yu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Lp.test(location.hostname)&&(r[Ap]=Mp);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jn.forceAllow_=!0}static forceDisallow(){jn.forceDisallow_=!0}static isAvailable(){return jn.forceAllow_?!0:!jn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!r0()&&!i0()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fp(n),i=Rp(r,k0);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[S0]="t",r[jp]=e,r[Vp]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=se(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ra{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Jy(),window[_0+this.uniqueCallbackIdentifier]=e,window[v0+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ra.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){we("frame writing exception"),l.stack&&we(l.stack),we(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||we("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jp]=this.myID,e[Vp]=this.myPW,e[$p]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Gp+r.length<=bp;){const o=this.pendingSegs.shift();r=r+"&"+w0+i+"="+o.seg+"&"+E0+i+"="+o.ts+"&"+C0+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(I0)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{we("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=16384,x0=45e3;let Vs=null;typeof MozWebSocket<"u"?Vs=MozWebSocket:typeof WebSocket<"u"&&(Vs=WebSocket);class Je{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pi(this.connId),this.stats_=xa(n),this.connURL=Je.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Dp]=Na,typeof location<"u"&&location.hostname&&Lp.test(location.hostname)&&(o[Ap]=Mp),n&&(o[Op]=n),r&&(o[Fp]=r),i&&(o[yu]=i),s&&(o[zp]=s),Hp(e,Up,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cn.set("previous_websocket_failure",!0);try{let r;gp(),this.mySock=new Vs(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Je.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Vs!==null&&!Je.forceDisallow_}static previouslyFailed(){return cn.isInMemoryStorage||cn.get("previous_websocket_failure")===!0}markConnectionHealthy(){cn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(E(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Rp(n,N0);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x0))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Je.responsesRequiredToBeHealthy=2;Je.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[jn,Je]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Je&&Je.isAvailable();let r=n&&!Je.previouslyFailed();if(e.webSocketOnly&&(n||Ae("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Je];else{const i=this.transports_=[];for(const s of mi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);mi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=6e4,P0=5e3,D0=10*1024,O0=100*1024,cl="t",Id="d",A0="s",Td="r",M0="e",Nd="o",xd="a",Rd="n",Pd="p",L0="h";class F0{constructor(e,n,r,i,s,o,l,u,a,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=a,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pi("c:"+this.id+":"),this.transportManager_=new mi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=br(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>O0?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>D0?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cl in e){const n=e[cl];n===xd?this.upgradeIfSecondaryHealthy_():n===Td?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Nd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xr("t",e),r=xr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Rd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xr("t",e),r=xr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xr(cl,e);if(Id in e){const r=e[Id];if(n===L0)this.onHandshake_(r);else if(n===Rd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===A0?this.onConnectionShutdown_(r):n===Td?this.onReset_(r):n===M0?vu("Server Error: "+r):n===Nd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Na!==r&&Ae("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),br(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(R0))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):br(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(P0))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Yp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $s}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=32,Od=768;class W{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function U(){return new W("")}function M(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Yt(t){return t.pieces_.length-t.pieceNum_}function j(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new W(t.pieces_,e)}function Kp(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function z0(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function qp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Xp(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new W(e,0)}function oe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof W)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new W(n,0)}function A(t){return t.pieceNum_>=t.pieces_.length}function Se(t,e){const n=M(t),r=M(e);if(n===null)return e;if(n===r)return Se(j(t),j(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Jp(t,e){if(Yt(t)!==Yt(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ze(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Yt(t)>Yt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class U0{constructor(e,n){this.errorPrefix_=n,this.parts_=qp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yo(this.parts_[r]);Zp(this)}}function B0(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yo(e),Zp(t)}function W0(t){const e=t.parts_.pop();t.byteLength_-=yo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Zp(t){if(t.byteLength_>Od)throw new Error(t.errorPrefix_+"has a key path longer than "+Od+" bytes ("+t.byteLength_+").");if(t.parts_.length>Dd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dd+") or object contains a cycle "+on(t))}function on(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Yp{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Pa}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=1e3,H0=60*5*1e3,Ad=30*1e3,j0=1.3,V0=3e4,$0="server_kill",Md=3;class _t extends Qp{constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=_t.nextPersistentConnectionId_++,this.log_=Pi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Rr,this.maxReconnectDelay_=H0,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!gp())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pa.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&$s.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(se(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new vo,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,a=l.s;_t.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),a!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(a,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&kt(e,"w")){const r=or(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ae(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Lv(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ad)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Mv(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),E(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+se(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):vu("Unrecognized action received from server: "+se(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Rr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>V0&&(this.reconnectDelay_=Rr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*j0)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+_t.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},a=function(c){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:u,sendRequest:a};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?we("getToken() completed but was canceled"):(we("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=d&&d.token,l=new F0(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Ae(g+" ("+this.repoInfo_.toString()+")"),this.interrupt($0)},s))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&Ae(c),u())}}}interrupt(e){we("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){we("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dd(this.interruptReasons_)&&(this.reconnectDelay_=Rr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ta(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new W(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){we("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Md&&(this.reconnectDelay_=Ad,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){we("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Md&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ip.replace(/\./g,"-")]=1,mp()?e["framework.cordova"]=1:xv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=$s.getInstance().currentlyOnline();return dd(this.interruptReasons_)&&e}}_t.nextPersistentConnectionId_=0;_t.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new O(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new O(lr,e),i=new O(lr,n);return this.compare(r,i)!==0}minPost(){return O.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es;class em extends wo{static get __EMPTY_NODE(){return es}static set __EMPTY_NODE(e){es=e}compare(e,n){return mr(e.name,n.name)}isDefinedOn(e){throw hr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return O.MIN}maxPost(){return new O(En,es)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new O(e,es)}toString(){return".key"}}const Jn=new em;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class de{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??de.RED,this.left=i??Re.EMPTY_NODE,this.right=s??Re.EMPTY_NODE}copy(e,n,r,i,s){return new de(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Re.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Re.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,de.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,de.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}de.RED=!0;de.BLACK=!1;class b0{copy(e,n,r,i,s){return this}insert(e,n,r){return new de(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Re{constructor(e,n=Re.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Re(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,de.BLACK,null,null))}remove(e){return new Re(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,de.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ts(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ts(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ts(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ts(this.root_,null,this.comparator_,!0,e)}}Re.EMPTY_NODE=new b0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e){return mr(t.name,e.name)}function Da(t,e){return mr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu;function Q0(t){wu=t}const tm=function(t){return typeof t=="number"?"number:"+Pp(t):"string:"+t},nm=function(t){if(t.isLeafNode()){const e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&kt(e,".sv"),"Priority must be a string or number.")}else E(t===wu||t.isEmpty(),"priority of unexpected type.");E(t===wu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld;class ae{constructor(e,n=ae.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nm(this.priorityNode_)}static set __childrenNodeConstructor(e){Ld=e}static get __childrenNodeConstructor(){return Ld}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ae(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ae.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return A(e)?this:M(e)===".priority"?this.priorityNode_:ae.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ae.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=M(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||Yt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ae.__childrenNodeConstructor.EMPTY_NODE.updateChild(j(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Pp(this.value_):e+=this.value_,this.lazyHash_=Np(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ae.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ae.__childrenNodeConstructor?-1:(E(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ae.VALUE_TYPE_ORDER.indexOf(n),s=ae.VALUE_TYPE_ORDER.indexOf(r);return E(i>=0,"Unknown leaf type: "+n),E(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ae.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm,im;function Y0(t){rm=t}function K0(t){im=t}class q0 extends wo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?mr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return O.MIN}maxPost(){return new O(En,new ae("[PRIORITY-POST]",im))}makePost(e,n){const r=rm(e);return new O(n,new ae("[PRIORITY-POST]",r))}toString(){return".priority"}}const Z=new q0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=Math.log(2);class J0{constructor(e){const n=s=>parseInt(Math.log(s)/X0,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bs=function(t,e,n,r){t.sort(e);const i=function(u,a){const f=a-u;let c,d;if(f===0)return null;if(f===1)return c=t[u],d=n?n(c):c,new de(d,c.node,de.BLACK,null,null);{const g=parseInt(f/2,10)+u,_=i(u,g),v=i(g+1,a);return c=t[g],d=n?n(c):c,new de(d,c.node,de.BLACK,_,v)}},s=function(u){let a=null,f=null,c=t.length;const d=function(_,v){const R=c-_,p=c;c-=_;const h=i(R+1,p),m=t[R],y=n?n(m):m;g(new de(y,m.node,v,null,h))},g=function(_){a?(a.left=_,a=_):(f=_,a=_)};for(let _=0;_<u.count;++_){const v=u.nextBitIsOne(),R=Math.pow(2,u.count-(_+1));v?d(R,de.BLACK):(d(R,de.BLACK),d(R,de.RED))}return f},o=new J0(t.length),l=s(o);return new Re(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;const Rn={};class mt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return E(Rn&&Z,"ChildrenNode.ts has not been loaded"),dl=dl||new mt({".priority":Rn},{".priority":Z}),dl}get(e){const n=or(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Re?n:null}hasIndex(e){return kt(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Jn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(O.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=bs(r,e.getCompare()):l=Rn;const u=e.toString(),a=Object.assign({},this.indexSet_);a[u]=e;const f=Object.assign({},this.indexes_);return f[u]=l,new mt(f,a)}addToIndexes(e,n){const r=Ws(this.indexes_,(i,s)=>{const o=or(this.indexSet_,s);if(E(o,"Missing index implementation for "+s),i===Rn)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(O.Wrap);let a=u.getNext();for(;a;)a.name!==e.name&&l.push(a),a=u.getNext();return l.push(e),bs(l,o.getCompare())}else return Rn;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new O(e.name,l))),u.insert(e,e.node)}});return new mt(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ws(this.indexes_,i=>{if(i===Rn)return i;{const s=n.get(e.name);return s?i.remove(new O(e.name,s)):i}});return new mt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr;class x{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nm(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pr||(Pr=new x(new Re(Da),null,mt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pr}updatePriority(e){return this.children_.isEmpty()?this:new x(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pr:n}}getChild(e){const n=M(e);return n===null?this:this.getImmediateChild(n).getChild(j(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(E(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new O(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Pr:this.priorityNode_;return new x(i,o,s)}}updateChild(e,n){const r=M(e);if(r===null)return n;{E(M(e)!==".priority"||Yt(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(j(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Z,(o,l)=>{n[o]=l.val(e),r++,s&&x.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tm(this.getPriority().val())+":"),this.forEachChild(Z,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Np(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new O(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new O(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new O(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,O.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,O.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Di?-1:0}withIndex(e){if(e===Jn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new x(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Jn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Z),i=n.getIterator(Z);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Jn?null:this.indexMap_.get(e.toString())}}x.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Z0 extends x{constructor(){super(new Re(Da),x.EMPTY_NODE,mt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return x.EMPTY_NODE}isEmpty(){return!1}}const Di=new Z0;Object.defineProperties(O,{MIN:{value:new O(lr,x.EMPTY_NODE)},MAX:{value:new O(En,Di)}});em.__EMPTY_NODE=x.EMPTY_NODE;ae.__childrenNodeConstructor=x;Q0(Di);K0(Di);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=!0;function fe(t,e=null){if(t===null)return x.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ae(n,fe(e))}if(!(t instanceof Array)&&ew){const n=[];let r=!1;if(Me(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=fe(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new O(o,u)))}}),n.length===0)return x.EMPTY_NODE;const s=bs(n,G0,o=>o.name,Da);if(r){const o=bs(n,Z.getCompare());return new x(s,fe(e),new mt({".priority":o},{".priority":Z}))}else return new x(s,fe(e),mt.Default)}else{let n=x.EMPTY_NODE;return Me(t,(r,i)=>{if(kt(t,r)&&r.substring(0,1)!=="."){const s=fe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(fe(e))}}Y0(fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends wo{constructor(e){super(),this.indexPath_=e,E(!A(e)&&M(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?mr(e.name,n.name):s}makePost(e,n){const r=fe(e),i=x.EMPTY_NODE.updateChild(this.indexPath_,r);return new O(n,i)}maxPost(){const e=x.EMPTY_NODE.updateChild(this.indexPath_,Di);return new O(En,e)}toString(){return qp(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends wo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?mr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return O.MIN}maxPost(){return O.MAX}makePost(e,n){const r=fe(e);return new O(n,r)}toString(){return".value"}}const rw=new nw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){return{type:"value",snapshotNode:t}}function ur(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gi(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _i(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iw(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(gi(n,l)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ur(n,r)):o.trackChildChange(_i(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Z,(i,s)=>{n.hasChild(i)||r.trackChildChange(gi(i,s))}),n.isLeafNode()||n.forEachChild(Z,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(_i(i,s,o))}else r.trackChildChange(ur(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?x.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.indexedFilter_=new Oa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vi.getStartPost_(e),this.endPost_=vi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new O(n,r))||(r=x.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=x.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(x.EMPTY_NODE);const s=this;return n.forEachChild(Z,(o,l)=>{s.matches(new O(o,l))||(i=i.updateImmediateChild(o,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new vi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new O(n,r))||(r=x.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=x.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(x.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const c=this.index_.getCompare();o=(d,g)=>c(g,d)}else o=this.index_.getCompare();const l=e;E(l.numChildren()===this.limit_,"");const u=new O(n,r),a=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(l.hasChild(n)){const c=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,a,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,u);if(f&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(_i(n,r,c)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(gi(n,c));const v=l.updateImmediateChild(n,x.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(ur(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?e:f&&o(a,u)>=0?(s!=null&&(s.trackChildChange(gi(a.name,a.node)),s.trackChildChange(ur(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(a.name,x.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Z}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lr}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:En}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Z}copy(){const e=new Aa;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ow(t){return t.loadsAllData()?new Oa(t.getIndex()):t.hasLimit()?new sw(t):new vi(t)}function Fd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Z?n="$priority":t.index_===rw?n="$value":t.index_===Jn?n="$key":(E(t.index_ instanceof tw,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=se(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=se(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+se(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=se(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+se(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Z&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Qp{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Gs.getListenId_(e,r),l={};this.listens_[o]=l;const u=Fd(e._queryParams);this.restRequest_(s+".json",u,(a,f)=>{let c=f;if(a===404&&(c=null,a=null),a===null&&this.onDataUpdate_(s,c,!1,r),or(this.listens_,o)===l){let d;a?a===401?d="permission_denied":d="rest_error:"+a:d="ok",i(d,null)}})}unlisten(e,n){const r=Gs.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Fd(e._queryParams),r=e._path.toString(),i=new vo;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fv(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=fi(l.responseText)}catch{Ae("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Ae("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return{value:null,children:new Map}}function om(t,e,n){if(A(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=M(e);t.children.has(r)||t.children.set(r,Qs());const i=t.children.get(r);e=j(e),om(i,e,n)}}function Eu(t,e,n){t.value!==null?n(e,t.value):uw(t,(r,i)=>{const s=new W(e.toString()+"/"+r);Eu(i,s,n)})}function uw(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Me(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=10*1e3,cw=30*1e3,dw=5*60*1e3;class fw{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aw(e);const r=Ud+(cw-Ud)*Math.random();br(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Me(e,(i,s)=>{s>0&&kt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),br(this.reportStats_.bind(this),Math.floor(Math.random()*2*dw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(et||(et={}));function lm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ma(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function La(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=et.ACK_USER_WRITE,this.source=lm()}operationForChild(e){if(A(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new W(e));return new Ys(U(),n,this.revert)}}else return E(M(this.path)===e,"operationForChild called for unrelated child."),new Ys(j(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.source=e,this.path=n,this.type=et.LISTEN_COMPLETE}operationForChild(e){return A(this.path)?new yi(this.source,U()):new yi(this.source,j(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=et.OVERWRITE}operationForChild(e){return A(this.path)?new Cn(this.source,U(),this.snap.getImmediateChild(e)):new Cn(this.source,j(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=et.MERGE}operationForChild(e){if(A(this.path)){const n=this.children.subtree(new W(e));return n.isEmpty()?null:n.value?new Cn(this.source,U(),n.value):new wi(this.source,U(),n)}else return E(M(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wi(this.source,j(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(A(e))return this.isFullyInitialized()&&!this.filtered_;const n=M(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function pw(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(iw(o.childName,o.snapshotNode))}),Dr(t,i,"child_removed",e,r,n),Dr(t,i,"child_added",e,r,n),Dr(t,i,"child_moved",s,r,n),Dr(t,i,"child_changed",e,r,n),Dr(t,i,"value",e,r,n),i}function Dr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>gw(t,l,u)),o.forEach(l=>{const u=mw(t,l,s);i.forEach(a=>{a.respondsTo(l.type)&&e.push(a.createEvent(u,t.query_))})})}function mw(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function gw(t,e,n){if(e.childName==null||n.childName==null)throw hr("Should only compare child_ events.");const r=new O(e.childName,e.snapshotNode),i=new O(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){return{eventCache:t,serverCache:e}}function Gr(t,e,n,r){return Eo(new Kt(e,n,r),t.serverCache)}function um(t,e,n,r){return Eo(t.eventCache,new Kt(e,n,r))}function Ks(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Sn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;const _w=()=>(fl||(fl=new Re(n0)),fl);class b{constructor(e,n=_w()){this.value=e,this.children=n}static fromObject(e){let n=new b(null);return Me(e,(r,i)=>{n=n.set(new W(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:U(),value:this.value};if(A(e))return null;{const r=M(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(j(e),n);return s!=null?{path:oe(new W(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(A(e))return this;{const n=M(e),r=this.children.get(n);return r!==null?r.subtree(j(e)):new b(null)}}set(e,n){if(A(e))return new b(n,this.children);{const r=M(e),s=(this.children.get(r)||new b(null)).set(j(e),n),o=this.children.insert(r,s);return new b(this.value,o)}}remove(e){if(A(e))return this.children.isEmpty()?new b(null):new b(null,this.children);{const n=M(e),r=this.children.get(n);if(r){const i=r.remove(j(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new b(null):new b(this.value,s)}else return this}}get(e){if(A(e))return this.value;{const n=M(e),r=this.children.get(n);return r?r.get(j(e)):null}}setTree(e,n){if(A(e))return n;{const r=M(e),s=(this.children.get(r)||new b(null)).setTree(j(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new b(this.value,o)}}fold(e){return this.fold_(U(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,U(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(A(e))return null;{const s=M(e),o=this.children.get(s);return o?o.findOnPath_(j(e),oe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,U(),n)}foreachOnPath_(e,n,r){if(A(e))return this;{this.value&&r(n,this.value);const i=M(e),s=this.children.get(i);return s?s.foreachOnPath_(j(e),oe(n,i),r):new b(null)}}foreach(e){this.foreach_(U(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.writeTree_=e}static empty(){return new rt(new b(null))}}function Qr(t,e,n){if(A(e))return new rt(new b(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Se(i,e);return s=s.updateChild(o,n),new rt(t.writeTree_.set(i,s))}else{const i=new b(n),s=t.writeTree_.setTree(e,i);return new rt(s)}}}function Bd(t,e,n){let r=t;return Me(n,(i,s)=>{r=Qr(r,oe(e,i),s)}),r}function Wd(t,e){if(A(e))return rt.empty();{const n=t.writeTree_.setTree(e,new b(null));return new rt(n)}}function Cu(t,e){return Tn(t,e)!=null}function Tn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Se(n.path,e)):null}function Hd(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Z,(r,i)=>{e.push(new O(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new O(r,i.value))}),e}function $t(t,e){if(A(e))return t;{const n=Tn(t,e);return n!=null?new rt(new b(n)):new rt(t.writeTree_.subtree(e))}}function Su(t){return t.writeTree_.isEmpty()}function ar(t,e){return am(U(),t.writeTree_,e)}function am(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(E(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=am(oe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(oe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e){return hm(e,t)}function vw(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Qr(t.visibleWrites,e,n)),t.lastWriteId=r}function yw(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function ww(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Ew(l,r.path)?i=!1:Ze(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return Cw(t),!0;if(r.snap)t.visibleWrites=Wd(t.visibleWrites,r.path);else{const l=r.children;Me(l,u=>{t.visibleWrites=Wd(t.visibleWrites,oe(r.path,u))})}return!0}else return!1}function Ew(t,e){if(t.snap)return Ze(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ze(oe(t.path,n),e))return!0;return!1}function Cw(t){t.visibleWrites=cm(t.allWrites,Sw,U()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Sw(t){return t.visible}function cm(t,e,n){let r=rt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Ze(n,o)?(l=Se(n,o),r=Qr(r,l,s.snap)):Ze(o,n)&&(l=Se(o,n),r=Qr(r,U(),s.snap.getChild(l)));else if(s.children){if(Ze(n,o))l=Se(n,o),r=Bd(r,l,s.children);else if(Ze(o,n))if(l=Se(o,n),A(l))r=Bd(r,U(),s.children);else{const u=or(s.children,M(l));if(u){const a=u.getChild(j(l));r=Qr(r,U(),a)}}}else throw hr("WriteRecord should have .snap or .children")}}return r}function dm(t,e,n,r,i){if(!r&&!i){const s=Tn(t.visibleWrites,e);if(s!=null)return s;{const o=$t(t.visibleWrites,e);if(Su(o))return n;if(n==null&&!Cu(o,U()))return null;{const l=n||x.EMPTY_NODE;return ar(o,l)}}}else{const s=$t(t.visibleWrites,e);if(!i&&Su(s))return n;if(!i&&n==null&&!Cu(s,U()))return null;{const o=function(a){return(a.visible||i)&&(!r||!~r.indexOf(a.writeId))&&(Ze(a.path,e)||Ze(e,a.path))},l=cm(t.allWrites,o,e),u=n||x.EMPTY_NODE;return ar(l,u)}}}function kw(t,e,n){let r=x.EMPTY_NODE;const i=Tn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Z,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=$t(t.visibleWrites,e);return n.forEachChild(Z,(o,l)=>{const u=ar($t(s,new W(o)),l);r=r.updateImmediateChild(o,u)}),Hd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=$t(t.visibleWrites,e);return Hd(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Iw(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=oe(e,n);if(Cu(t.visibleWrites,s))return null;{const o=$t(t.visibleWrites,s);return Su(o)?i.getChild(n):ar(o,i.getChild(n))}}function Tw(t,e,n,r){const i=oe(e,n),s=Tn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=$t(t.visibleWrites,i);return ar(o,r.getNode().getImmediateChild(n))}else return null}function Nw(t,e){return Tn(t.visibleWrites,e)}function xw(t,e,n,r,i,s,o){let l;const u=$t(t.visibleWrites,e),a=Tn(u,U());if(a!=null)l=a;else if(n!=null)l=ar(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],c=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=d.getNext();for(;g&&f.length<i;)c(g,r)!==0&&f.push(g),g=d.getNext();return f}else return[]}function Rw(){return{visibleWrites:rt.empty(),allWrites:[],lastWriteId:-1}}function qs(t,e,n,r){return dm(t.writeTree,t.treePath,e,n,r)}function Fa(t,e){return kw(t.writeTree,t.treePath,e)}function jd(t,e,n,r){return Iw(t.writeTree,t.treePath,e,n,r)}function Xs(t,e){return Nw(t.writeTree,oe(t.treePath,e))}function Pw(t,e,n,r,i,s){return xw(t.writeTree,t.treePath,e,n,r,i,s)}function za(t,e,n){return Tw(t.writeTree,t.treePath,e,n)}function fm(t,e){return hm(oe(t.treePath,e),t.writeTree)}function hm(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,_i(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,gi(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ur(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,_i(r,e.snapshotNode,i.oldSnap));else throw hr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const pm=new Ow;class Ua{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return za(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sn(this.viewCache_),s=Pw(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){return{filter:t}}function Mw(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Lw(t,e,n,r,i){const s=new Dw;let o,l;if(n.type===et.OVERWRITE){const a=n;a.source.fromUser?o=ku(t,e,a.path,a.snap,r,i,s):(E(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered()&&!A(a.path),o=Js(t,e,a.path,a.snap,r,i,l,s))}else if(n.type===et.MERGE){const a=n;a.source.fromUser?o=zw(t,e,a.path,a.children,r,i,s):(E(a.source.fromServer,"Unknown source."),l=a.source.tagged||e.serverCache.isFiltered(),o=Iu(t,e,a.path,a.children,r,i,l,s))}else if(n.type===et.ACK_USER_WRITE){const a=n;a.revert?o=Ww(t,e,a.path,r,i,s):o=Uw(t,e,a.path,a.affectedTree,r,i,s)}else if(n.type===et.LISTEN_COMPLETE)o=Bw(t,e,n.path,r,s);else throw hr("Unknown operation type: "+n.type);const u=s.getChanges();return Fw(e,o,u),{viewCache:o,changes:u}}function Fw(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ks(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sm(Ks(e)))}}function mm(t,e,n,r,i,s){const o=e.eventCache;if(Xs(r,n)!=null)return e;{let l,u;if(A(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const a=Sn(e),f=a instanceof x?a:x.EMPTY_NODE,c=Fa(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const a=qs(r,Sn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),a,s)}else{const a=M(n);if(a===".priority"){E(Yt(n)===1,"Can't have a priority with additional path components");const f=o.getNode();u=e.serverCache.getNode();const c=jd(r,n,f,u);c!=null?l=t.filter.updatePriority(f,c):l=o.getNode()}else{const f=j(n);let c;if(o.isCompleteForChild(a)){u=e.serverCache.getNode();const d=jd(r,n,o.getNode(),u);d!=null?c=o.getNode().getImmediateChild(a).updateChild(f,d):c=o.getNode().getImmediateChild(a)}else c=za(r,a,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),a,c,f,i,s):l=o.getNode()}}return Gr(e,l,o.isFullyInitialized()||A(n),t.filter.filtersNodes())}}function Js(t,e,n,r,i,s,o,l){const u=e.serverCache;let a;const f=o?t.filter:t.filter.getIndexedFilter();if(A(n))a=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){const g=u.getNode().updateChild(n,r);a=f.updateFullNode(u.getNode(),g,null)}else{const g=M(n);if(!u.isCompleteForPath(n)&&Yt(n)>1)return e;const _=j(n),R=u.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?a=f.updatePriority(u.getNode(),R):a=f.updateChild(u.getNode(),g,R,_,pm,null)}const c=um(e,a,u.isFullyInitialized()||A(n),f.filtersNodes()),d=new Ua(i,c,s);return mm(t,c,n,i,d,l)}function ku(t,e,n,r,i,s,o){const l=e.eventCache;let u,a;const f=new Ua(i,e,s);if(A(n))a=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Gr(e,a,!0,t.filter.filtersNodes());else{const c=M(n);if(c===".priority")a=t.filter.updatePriority(e.eventCache.getNode(),r),u=Gr(e,a,l.isFullyInitialized(),l.isFiltered());else{const d=j(n),g=l.getNode().getImmediateChild(c);let _;if(A(d))_=r;else{const v=f.getCompleteChild(c);v!=null?Kp(d)===".priority"&&v.getChild(Xp(d)).isEmpty()?_=v:_=v.updateChild(d,r):_=x.EMPTY_NODE}if(g.equals(_))u=e;else{const v=t.filter.updateChild(l.getNode(),c,_,d,f,o);u=Gr(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Vd(t,e){return t.eventCache.isCompleteForChild(e)}function zw(t,e,n,r,i,s,o){let l=e;return r.foreach((u,a)=>{const f=oe(n,u);Vd(e,M(f))&&(l=ku(t,l,f,a,i,s,o))}),r.foreach((u,a)=>{const f=oe(n,u);Vd(e,M(f))||(l=ku(t,l,f,a,i,s,o))}),l}function $d(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Iu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,a;A(n)?a=r:a=new b(null).setTree(n,r);const f=e.serverCache.getNode();return a.children.inorderTraversal((c,d)=>{if(f.hasChild(c)){const g=e.serverCache.getNode().getImmediateChild(c),_=$d(t,g,d);u=Js(t,u,new W(c),_,i,s,o,l)}}),a.children.inorderTraversal((c,d)=>{const g=!e.serverCache.isCompleteForChild(c)&&d.value===null;if(!f.hasChild(c)&&!g){const _=e.serverCache.getNode().getImmediateChild(c),v=$d(t,_,d);u=Js(t,u,new W(c),v,i,s,o,l)}}),u}function Uw(t,e,n,r,i,s,o){if(Xs(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(A(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Js(t,e,n,u.getNode().getChild(n),i,s,l,o);if(A(n)){let a=new b(null);return u.getNode().forEachChild(Jn,(f,c)=>{a=a.set(new W(f),c)}),Iu(t,e,n,a,i,s,l,o)}else return e}else{let a=new b(null);return r.foreach((f,c)=>{const d=oe(n,f);u.isCompleteForPath(d)&&(a=a.set(f,u.getNode().getChild(d)))}),Iu(t,e,n,a,i,s,l,o)}}function Bw(t,e,n,r,i){const s=e.serverCache,o=um(e,s.getNode(),s.isFullyInitialized()||A(n),s.isFiltered());return mm(t,o,n,r,pm,i)}function Ww(t,e,n,r,i,s){let o;if(Xs(r,n)!=null)return e;{const l=new Ua(r,e,i),u=e.eventCache.getNode();let a;if(A(n)||M(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=qs(r,Sn(e));else{const c=e.serverCache.getNode();E(c instanceof x,"serverChildren would be complete if leaf node"),f=Fa(r,c)}f=f,a=t.filter.updateFullNode(u,f,s)}else{const f=M(n);let c=za(r,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=u.getImmediateChild(f)),c!=null?a=t.filter.updateChild(u,f,c,j(n),l,s):e.eventCache.getNode().hasChild(f)?a=t.filter.updateChild(u,f,x.EMPTY_NODE,j(n),l,s):a=u,a.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=qs(r,Sn(e)),o.isLeafNode()&&(a=t.filter.updateFullNode(a,o,s)))}return o=e.serverCache.isFullyInitialized()||Xs(r,U())!=null,Gr(e,a,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Oa(r.getIndex()),s=ow(r);this.processor_=Aw(s);const o=n.serverCache,l=n.eventCache,u=i.updateFullNode(x.EMPTY_NODE,o.getNode(),null),a=s.updateFullNode(x.EMPTY_NODE,l.getNode(),null),f=new Kt(u,o.isFullyInitialized(),i.filtersNodes()),c=new Kt(a,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Eo(c,f),this.eventGenerator_=new hw(this.query_)}get query(){return this.query_}}function jw(t){return t.viewCache_.serverCache.getNode()}function Vw(t){return Ks(t.viewCache_)}function $w(t,e){const n=Sn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!A(e)&&!n.getImmediateChild(M(e)).isEmpty())?n.getChild(e):null}function bd(t){return t.eventRegistrations_.length===0}function bw(t,e){t.eventRegistrations_.push(e)}function Gd(t,e,n){const r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Qd(t,e,n,r){e.type===et.MERGE&&e.source.queryId!==null&&(E(Sn(t.viewCache_),"We should always have a full cache before handling merges"),E(Ks(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Lw(t.processor_,i,e,n,r);return Mw(t.processor_,s.viewCache),E(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,gm(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Gw(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Z,(s,o)=>{r.push(ur(s,o))}),n.isFullyInitialized()&&r.push(sm(n.getNode())),gm(t,r,n.getNode(),e)}function gm(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return pw(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs;class _m{constructor(){this.views=new Map}}function Qw(t){E(!Zs,"__referenceConstructor has already been defined"),Zs=t}function Yw(){return E(Zs,"Reference.ts has not been loaded"),Zs}function Kw(t){return t.views.size===0}function Ba(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return E(s!=null,"SyncTree gave us an op for an invalid query."),Qd(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Qd(o,e,n,r));return s}}function vm(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=qs(n,i?r:null),u=!1;l?u=!0:r instanceof x?(l=Fa(n,r),u=!1):(l=x.EMPTY_NODE,u=!1);const a=Eo(new Kt(l,u,!1),new Kt(r,i,!1));return new Hw(e,a)}return o}function qw(t,e,n,r,i,s){const o=vm(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),bw(o,n),Gw(o,n)}function Xw(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=qt(t);if(i==="default")for(const[u,a]of t.views.entries())o=o.concat(Gd(a,n,r)),bd(a)&&(t.views.delete(u),a.query._queryParams.loadsAllData()||s.push(a.query));else{const u=t.views.get(i);u&&(o=o.concat(Gd(u,n,r)),bd(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!qt(t)&&s.push(new(Yw())(e._repo,e._path)),{removed:s,events:o}}function ym(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function bt(t,e){let n=null;for(const r of t.views.values())n=n||$w(r,e);return n}function wm(t,e){if(e._queryParams.loadsAllData())return So(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Em(t,e){return wm(t,e)!=null}function qt(t){return So(t)!=null}function So(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo;function Jw(t){E(!eo,"__referenceConstructor has already been defined"),eo=t}function Zw(){return E(eo,"Reference.ts has not been loaded"),eo}let eE=1;class Yd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new b(null),this.pendingWriteTree_=Rw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Cm(t,e,n,r,i){return vw(t.pendingWriteTree_,e,n,r,i),i?Ai(t,new Cn(lm(),e,n)):[]}function dn(t,e,n=!1){const r=yw(t.pendingWriteTree_,e);if(ww(t.pendingWriteTree_,e)){let s=new b(null);return r.snap!=null?s=s.set(U(),!0):Me(r.children,o=>{s=s.set(new W(o),!0)}),Ai(t,new Ys(r.path,s,n))}else return[]}function Oi(t,e,n){return Ai(t,new Cn(Ma(),e,n))}function tE(t,e,n){const r=b.fromObject(n);return Ai(t,new wi(Ma(),e,r))}function nE(t,e){return Ai(t,new yi(Ma(),e))}function rE(t,e,n){const r=Ha(t,n);if(r){const i=ja(r),s=i.path,o=i.queryId,l=Se(s,e),u=new yi(La(o),l);return Va(t,s,u)}else return[]}function Sm(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Em(o,e))){const u=Xw(o,e,n,r);Kw(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const a=u.removed;if(l=u.events,!i){const f=a.findIndex(d=>d._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(s,(d,g)=>qt(g));if(f&&!c){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const g=lE(d);for(let _=0;_<g.length;++_){const v=g[_],R=v.query,p=Nm(t,v);t.listenProvider_.startListening(Yr(R),Ei(t,R),p.hashFn,p.onComplete)}}}!c&&a.length>0&&!r&&(f?t.listenProvider_.stopListening(Yr(e),null):a.forEach(d=>{const g=t.queryToTagMap.get(ko(d));t.listenProvider_.stopListening(Yr(d),g)}))}uE(t,a)}return l}function km(t,e,n,r){const i=Ha(t,r);if(i!=null){const s=ja(i),o=s.path,l=s.queryId,u=Se(o,e),a=new Cn(La(l),u,n);return Va(t,o,a)}else return[]}function iE(t,e,n,r){const i=Ha(t,r);if(i){const s=ja(i),o=s.path,l=s.queryId,u=Se(o,e),a=b.fromObject(n),f=new wi(La(l),u,a);return Va(t,o,f)}else return[]}function sE(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,g)=>{const _=Se(d,i);s=s||bt(g,_),o=o||qt(g)});let l=t.syncPointTree_.get(i);l?(o=o||qt(l),s=s||bt(l,U())):(l=new _m,t.syncPointTree_=t.syncPointTree_.set(i,l));let u;s!=null?u=!0:(u=!1,s=x.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,_)=>{const v=bt(_,U());v&&(s=s.updateImmediateChild(g,v))}));const a=Em(l,e);if(!a&&!e._queryParams.loadsAllData()){const d=ko(e);E(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=aE();t.queryToTagMap.set(d,g),t.tagToQueryMap.set(g,d)}const f=Co(t.pendingWriteTree_,i);let c=qw(l,e,n,f,s,u);if(!a&&!o&&!r){const d=wm(l,e);c=c.concat(cE(t,e,d))}return c}function Wa(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=Se(o,e),a=bt(l,u);if(a)return a});return dm(i,e,s,n,!0)}function oE(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(a,f)=>{const c=Se(a,n);r=r||bt(f,c)});let i=t.syncPointTree_.get(n);i?r=r||bt(i,U()):(i=new _m,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Kt(r,!0,!1):null,l=Co(t.pendingWriteTree_,e._path),u=vm(i,e,l,s?o.getNode():x.EMPTY_NODE,s);return Vw(u)}function Ai(t,e){return Im(e,t.syncPointTree_,null,Co(t.pendingWriteTree_,U()))}function Im(t,e,n,r){if(A(t.path))return Tm(t,e,n,r);{const i=e.get(U());n==null&&i!=null&&(n=bt(i,U()));let s=[];const o=M(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const a=n?n.getImmediateChild(o):null,f=fm(r,o);s=s.concat(Im(l,u,a,f))}return i&&(s=s.concat(Ba(i,t,r,n))),s}}function Tm(t,e,n,r){const i=e.get(U());n==null&&i!=null&&(n=bt(i,U()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,a=fm(r,o),f=t.operationForChild(o);f&&(s=s.concat(Tm(f,l,u,a)))}),i&&(s=s.concat(Ba(i,t,r,n))),s}function Nm(t,e){const n=e.query,r=Ei(t,n);return{hashFn:()=>(jw(e)||x.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?rE(t,n._path,r):nE(t,n._path);{const s=s0(i,n);return Sm(t,n,null,s)}}}}function Ei(t,e){const n=ko(e);return t.queryToTagMap.get(n)}function ko(t){return t._path.toString()+"$"+t._queryIdentifier}function Ha(t,e){return t.tagToQueryMap.get(e)}function ja(t){const e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new W(t.substr(0,e))}}function Va(t,e,n){const r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");const i=Co(t.pendingWriteTree_,e);return Ba(r,n,i,null)}function lE(t){return t.fold((e,n,r)=>{if(n&&qt(n))return[So(n)];{let i=[];return n&&(i=ym(n)),Me(r,(s,o)=>{i=i.concat(o)}),i}})}function Yr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Zw())(t._repo,t._path):t}function uE(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=ko(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function aE(){return eE++}function cE(t,e,n){const r=e._path,i=Ei(t,e),s=Nm(t,n),o=t.listenProvider_.startListening(Yr(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)E(!qt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((a,f,c)=>{if(!A(a)&&f&&qt(f))return[So(f).query];{let d=[];return f&&(d=d.concat(ym(f).map(g=>g.query))),Me(c,(g,_)=>{d=d.concat(_)}),d}});for(let a=0;a<u.length;++a){const f=u[a];t.listenProvider_.stopListening(Yr(f),Ei(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $a(n)}node(){return this.node_}}class ba{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=oe(this.path_,e);return new ba(this.syncTree_,n)}node(){return Wa(this.syncTree_,this.path_)}}const dE=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Kd=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fE(t[".sv"],e,n);if(typeof t[".sv"]=="object")return hE(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fE=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},hE=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},pE=function(t,e,n,r){return Ga(e,new ba(n,t),r)},xm=function(t,e,n){return Ga(t,new $a(e),n)};function Ga(t,e,n){const r=t.getPriority().val(),i=Kd(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Kd(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new ae(l,fe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ae(i))),o.forEachChild(Z,(l,u)=>{const a=Ga(u,e.getImmediateChild(l),n);a!==u&&(s=s.updateImmediateChild(l,a))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ya(t,e){let n=e instanceof W?e:new W(e),r=t,i=M(n);for(;i!==null;){const s=or(r.node.children,i)||{children:{},childCount:0};r=new Qa(i,r,s),n=j(n),i=M(n)}return r}function _r(t){return t.node.value}function Rm(t,e){t.node.value=e,Tu(t)}function Pm(t){return t.node.childCount>0}function mE(t){return _r(t)===void 0&&!Pm(t)}function Io(t,e){Me(t.node.children,(n,r)=>{e(new Qa(n,t,r))})}function Dm(t,e,n,r){n&&!r&&e(t),Io(t,i=>{Dm(i,e,!0,r)}),n&&r&&e(t)}function gE(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Mi(t){return new W(t.parent===null?t.name:Mi(t.parent)+"/"+t.name)}function Tu(t){t.parent!==null&&_E(t.parent,t.name,t)}function _E(t,e,n){const r=mE(n),i=kt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Tu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=/[\[\].#$\/\u0000-\u001F\u007F]/,yE=/[\[\].#$\u0000-\u001F\u007F]/,hl=10*1024*1024,Om=function(t){return typeof t=="string"&&t.length!==0&&!vE.test(t)},Am=function(t){return typeof t=="string"&&t.length!==0&&!yE.test(t)},wE=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Am(t)},EE=function(t,e,n,r){r&&e===void 0||Ka(ka(t,"value"),e,n)},Ka=function(t,e,n){const r=n instanceof W?new U0(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+on(r));if(typeof e=="function")throw new Error(t+"contains a function "+on(r)+" with contents = "+e.toString());if(xp(e))throw new Error(t+"contains "+e.toString()+" "+on(r));if(typeof e=="string"&&e.length>hl/3&&yo(e)>hl)throw new Error(t+"contains a string greater than "+hl+" utf8 bytes "+on(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Me(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Om(o)))throw new Error(t+" contains an invalid key ("+o+") "+on(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);B0(r,o),Ka(t,l,r),W0(r)}),i&&s)throw new Error(t+' contains ".value" child '+on(r)+" in addition to actual children.")}},Mm=function(t,e,n,r){if(!(r&&n===void 0)&&!Am(n))throw new Error(ka(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CE=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mm(t,e,n,r)},SE=function(t,e){if(M(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},kE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Om(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wE(n))throw new Error(ka(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Lm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Jp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ct(t,e,n){Lm(t,n),TE(t,r=>Ze(r,e)||Ze(e,r))}function TE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(NE(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();pn&&we("event: "+n.toString()),gr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="repo_interrupt",RE=25;class PE{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qs(),this.transactionQueueTree_=new Qa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DE(t,e,n){if(t.stats_=xa(t.repoInfo_),t.forceRestClient_||a0())t.server_=new Gs(t.repoInfo_,(r,i,s,o)=>{qd(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Xd(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{se(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new _t(t.repoInfo_,e,(r,i,s,o)=>{qd(t,r,i,s,o)},r=>{Xd(t,r)},r=>{AE(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=p0(t.repoInfo_,()=>new fw(t.stats_,t.server_)),t.infoData_=new lw,t.infoSyncTree_=new Yd({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=Oi(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Xa(t,"connected",!1),t.serverSyncTree_=new Yd({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const a=o(l,u);ct(t.eventQueue_,r._path,a)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function OE(t){const n=t.infoData_.getNode(new W(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qa(t){return dE({timestamp:OE(t)})}function qd(t,e,n,r,i){t.dataUpdateCount++;const s=new W(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Ws(n,a=>fe(a));o=iE(t.serverSyncTree_,s,u,i)}else{const u=fe(n);o=km(t.serverSyncTree_,s,u,i)}else if(r){const u=Ws(n,a=>fe(a));o=tE(t.serverSyncTree_,s,u)}else{const u=fe(n);o=Oi(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=No(t,s)),ct(t.eventQueue_,l,o)}function Xd(t,e){Xa(t,"connected",e),e===!1&&FE(t)}function AE(t,e){Me(e,(n,r)=>{Xa(t,n,r)})}function Xa(t,e,n){const r=new W("/.info/"+e),i=fe(n);t.infoData_.updateSnapshot(r,i);const s=Oi(t.infoSyncTree_,r,i);ct(t.eventQueue_,r,s)}function Fm(t){return t.nextWriteId_++}function ME(t,e,n){const r=oE(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=fe(i).withIndex(e._queryParams.getIndex());sE(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Oi(t.serverSyncTree_,e._path,s);else{const l=Ei(t.serverSyncTree_,e);o=km(t.serverSyncTree_,e._path,s,l)}return ct(t.eventQueue_,e._path,o),Sm(t.serverSyncTree_,e,n,null,!0),s},i=>(To(t,"get for query "+se(e)+" failed: "+i),Promise.reject(new Error(i))))}function LE(t,e,n,r,i){To(t,"set",{path:e.toString(),value:n,priority:r});const s=qa(t),o=fe(n,r),l=Wa(t.serverSyncTree_,e),u=xm(o,l,s),a=Fm(t),f=Cm(t.serverSyncTree_,e,u,a,!0);Lm(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(d,g)=>{const _=d==="ok";_||Ae("set at "+e+" failed: "+d);const v=dn(t.serverSyncTree_,a,!_);ct(t.eventQueue_,e,v),UE(t,i,d,g)});const c=Hm(t,e);No(t,c),ct(t.eventQueue_,c,[])}function FE(t){To(t,"onDisconnectEvents");const e=qa(t),n=Qs();Eu(t.onDisconnect_,U(),(i,s)=>{const o=pE(i,s,t.serverSyncTree_,e);om(n,i,o)});let r=[];Eu(n,U(),(i,s)=>{r=r.concat(Oi(t.serverSyncTree_,i,s));const o=Hm(t,i);No(t,o)}),t.onDisconnect_=Qs(),ct(t.eventQueue_,U(),r)}function zE(t){t.persistentConnection_&&t.persistentConnection_.interrupt(xE)}function To(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),we(n,...e)}function UE(t,e,n,r){e&&gr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function zm(t,e,n){return Wa(t.serverSyncTree_,e,n)||x.EMPTY_NODE}function Ja(t,e=t.transactionQueueTree_){if(e||xo(t,e),_r(e)){const n=Bm(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&BE(t,Mi(e),n)}else Pm(e)&&Io(e,n=>{Ja(t,n)})}function BE(t,e,n){const r=n.map(a=>a.currentWriteId),i=zm(t,e,r);let s=i;const o=i.hash();for(let a=0;a<n.length;a++){const f=n[a];E(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=Se(e,f.path);s=s.updateChild(c,f.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,a=>{To(t,"transaction put response",{path:u.toString(),status:a});let f=[];if(a==="ok"){const c=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(dn(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&c.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();xo(t,Ya(t.transactionQueueTree_,e)),Ja(t,t.transactionQueueTree_),ct(t.eventQueue_,e,f);for(let d=0;d<c.length;d++)gr(c[d])}else{if(a==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{Ae("transaction at "+u.toString()+" failed: "+a);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=a}No(t,e)}},o)}function No(t,e){const n=Um(t,e),r=Mi(n),i=Bm(t,n);return WE(t,i,r),r}function WE(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],a=Se(n,u.path);let f=!1,c;if(E(a!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,c=u.abortReason,i=i.concat(dn(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=RE)f=!0,c="maxretry",i=i.concat(dn(t.serverSyncTree_,u.currentWriteId,!0));else{const d=zm(t,u.path,o);u.currentInputSnapshot=d;const g=e[l].update(d.val());if(g!==void 0){Ka("transaction failed: Data returned ",g,u.path);let _=fe(g);typeof g=="object"&&g!=null&&kt(g,".priority")||(_=_.updatePriority(d.getPriority()));const R=u.currentWriteId,p=qa(t),h=xm(_,d,p);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=h,u.currentWriteId=Fm(t),o.splice(o.indexOf(R),1),i=i.concat(Cm(t.serverSyncTree_,u.path,h,u.currentWriteId,u.applyLocally)),i=i.concat(dn(t.serverSyncTree_,R,!0))}else f=!0,c="nodata",i=i.concat(dn(t.serverSyncTree_,u.currentWriteId,!0))}ct(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(c),!1,null))))}xo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)gr(r[l]);Ja(t,t.transactionQueueTree_)}function Um(t,e){let n,r=t.transactionQueueTree_;for(n=M(e);n!==null&&_r(r)===void 0;)r=Ya(r,n),e=j(e),n=M(e);return r}function Bm(t,e){const n=[];return Wm(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Wm(t,e,n){const r=_r(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Io(e,i=>{Wm(t,i,n)})}function xo(t,e){const n=_r(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Rm(e,n.length>0?n:void 0)}Io(e,r=>{xo(t,r)})}function Hm(t,e){const n=Mi(Um(t,e)),r=Ya(t.transactionQueueTree_,e);return gE(r,i=>{pl(t,i)}),pl(t,r),Dm(r,i=>{pl(t,i)}),n}function pl(t,e){const n=_r(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Rm(e,void 0):n.length=s+1,ct(t.eventQueue_,Mi(e),i);for(let o=0;o<r.length;o++)gr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function jE(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ae(`Invalid query segment '${n}' in query '${t}'`)}return e}const Jd=function(t,e){const n=VE(t),r=n.namespace;n.domain==="firebase.com"&&Ct(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ct("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||e0();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Wp(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new W(n.pathString)}},VE=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let a=t.indexOf("//");a>=0&&(l=t.substring(0,a-1),t=t.substring(a+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=HE(t.substring(f,c)));const d=jE(t.substring(Math.min(t.length,c)));a=e.indexOf(":"),a>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(a+1),10)):a=e.length;const g=e.slice(0,a);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+se(this.snapshot.exportVal())}}class bE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return A(this._path)?null:Kp(this._path)}get ref(){return new It(this._repo,this._path)}get _queryIdentifier(){const e=zd(this._queryParams),n=Ta(e);return n==="{}"?"default":n}get _queryObject(){return zd(this._queryParams)}isEqual(e){if(e=pr(e),!(e instanceof Za))return!1;const n=this._repo===e._repo,r=Jp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+z0(this._path)}}class It extends Za{constructor(e,n){super(e,n,new Aa,!1)}get parent(){const e=Xp(this._path);return e===null?null:new It(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ci{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new W(e),r=Nu(this.ref,e);return new Ci(this._node.getChild(n),r,Z)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ci(i,Nu(this.ref,r),Z)))}hasChild(e){const n=new W(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zd(t,e){return t=pr(t),t._checkNotDeleted("ref"),e!==void 0?Nu(t._root,e):t._root}function Nu(t,e){return t=pr(t),M(t._path)===null?CE("child","path",e,!1):Mm("child","path",e,!1),new It(t._repo,oe(t._path,e))}function QE(t,e){t=pr(t),SE("set",t._path),EE("set",e,t._path,!1);const n=new vo;return LE(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function YE(t){t=pr(t);const e=new GE(()=>{}),n=new ec(e);return ME(t._repo,t,n).then(r=>new Ci(r,new It(t._repo,t._path),t._queryParams.getIndex()))}class ec{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new $E("value",this,new Ci(e.snapshotNode,new It(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bE(this,e,n):null}matches(e){return e instanceof ec?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}Qw(It);Jw(It);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="FIREBASE_DATABASE_EMULATOR_HOST",xu={};let qE=!1;function XE(t,e,n,r){t.repoInfo_=new Wp(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function JE(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ct("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),we("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Jd(s,i),l=o.repoInfo,u,a;typeof process<"u"&&process.env&&(a=process.env[KE]),a?(u=!0,s=`http://${a}?ns=${l.namespace}`,o=Jd(s,i),l=o.repoInfo):u=!o.repoInfo.secure;const f=i&&u?new Xn(Xn.OWNER):new d0(t.name,t.options,e);kE("Invalid Firebase Database URL",o),A(o.path)||Ct("Database URL must point to the root of a Firebase Database (not including a child path).");const c=e1(l,t,f,new c0(t.name,n));return new t1(c,t)}function ZE(t,e){const n=xu[e];(!n||n[t.key]!==t)&&Ct(`Database ${e}(${t.repoInfo_}) has already been deleted.`),zE(t),delete n[t.key]}function e1(t,e,n,r){let i=xu[e.name];i||(i={},xu[e.name]=i);let s=i[t.toURLString()];return s&&Ct("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new PE(t,qE,n,r),i[t.toURLString()]=s,s}class t1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new It(this._repo,U())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ct("Cannot call "+e+" on a deleted database.")}}function n1(t=zy(),e){const n=Ay(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=kv("database");r&&r1(n,...r)}return n}function r1(t,e,n,r={}){t=pr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ct("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ct('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xn(Xn.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Tv(r.mockUserToken,t.app.options.projectId);s=new Xn(o)}XE(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){Ky(Fy),js(new hi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return JE(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Kn(wd,Ed,t),Kn(wd,Ed,"esm2017")}_t.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};_t.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};i1();const s1={apiKey:"AIzaSyDP5_PpCvYbZ7ZDW9kYk0vqHUgjmd01s2s",authDomain:"pixelwar-167bf.firebaseapp.com",databaseURL:"https://pixelwar-167bf-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pixelwar-167bf",storageBucket:"pixelwar-167bf.appspot.com",messagingSenderId:"1031898278295",appId:"1:1031898278295:web:6baf0a020430825da73cd2",measurementId:""},o1=Cp(s1),ef=n1(o1);function l1(){At.useRef([window.innerWidth,window.innerHeight]);const[t,e]=At.useState([[]]),[n,r]=At.useState({color:"white",grid:!1}),i=Zd(ef,"grille");YE(i).then(u=>{u.exists()&&e([...u.val()])});function s(u,a){console.log(u,a,n.color),t[u][a]=n.color,QE(Zd(ef,"grille/"+u+"/"+a),t[u][a]),e([...t])}function o(u){n[u.target.name]=u.target.value,r({...n})}function l(u){return{backgroundColor:u,outline:n.grid=="true"?"1px solid grey":"none"}}return Nn("div",{children:[Y("h1",{children:"Page Accueil"}),Nn("div",{id:"options",children:[Nn("div",{children:[Y("label",{htmlFor:"color",children:"Couleur : "}),Nn("select",{name:"color",onChange:o,children:[Y("option",{value:"white",children:"Blanc"}),Y("option",{value:"black",children:"Noir"}),Y("option",{value:"grey",children:"Gris"}),Y("option",{value:"red",children:"Rouge"}),Y("option",{value:"orange",children:"Orange"}),Y("option",{value:"yellow",children:"Jaune"}),Y("option",{value:"green",children:"Vert"}),Y("option",{value:"cyan",children:"Cyan"}),Y("option",{value:"blue",children:"Bleu"}),Y("option",{value:"purple",children:"Violet"}),Y("option",{value:"pink",children:"Rose"}),Y("option",{value:"brown",children:"Marron"})]})]}),Nn("div",{children:[Y("label",{htmlFor:"grid",children:"Grille : "}),Nn("select",{name:"grid",onChange:o,children:[Y("option",{value:"true",children:"Visible"}),Y("option",{value:"false",children:"Invisible"})]})]})]}),Y("div",{id:"grille",children:t.map((u,a)=>Y("div",{className:"colonne",children:u.map((f,c)=>Y("div",{style:l(f),className:f+" pixel",onClick:()=>{s(a,c)}},c))},a))})]})}function u1(){return At.useState(0),Y("div",{className:"App",children:Y(l1,{})})}ml.createRoot(document.getElementById("root")).render(Y(u1,{}));
